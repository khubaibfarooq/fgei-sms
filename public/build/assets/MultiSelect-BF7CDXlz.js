import{r as d,j as e}from"./app-fTHYdGsa.js";import{R as v,T as C,I as L,P as I,C as S,S as M,a as B,b as O,c as P,d as R,e as W}from"./index-BjDymVkp.js";const x=({className:r="w-4 h-4"})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),$=({className:r="w-4 h-4"})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),T=({className:r="w-4 h-4"})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u=({className:r="w-3 h-3"})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),U=({options:r,value:t=[],onChange:o,placeholder:h="Select options...",disabled:m=!1,maxDisplayed:a=3,className:g="",label:c,error:i})=>{const[f,j]=d.useState(!1),b=d.useRef(null),p=s=>{const n=t.includes(s)?t.filter(l=>l!==s):[...t,s];o(n)},w=(s,n)=>{n.stopPropagation();const l=t.filter(N=>N!==s);o(l)},y=s=>{s.stopPropagation(),o([])},k=()=>t.map(s=>{var n;return((n=r.find(l=>l.value===s))==null?void 0:n.label)||s});return e.jsxs("div",{className:`w-full ${g}`,children:[c&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c}),e.jsxs(v,{open:f,onOpenChange:j,disabled:m,children:[e.jsxs(C,{ref:b,className:`
            inline-flex items-center justify-between w-full px-3 py-2 text-sm
            bg-white border rounded-lg shadow-sm
            hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed
            transition-colors duration-200 min-h-[42px]
            ${i?"border-red-500":"border-gray-300"}
          `,children:[e.jsx("div",{className:"flex items-center flex-wrap gap-1 flex-1 min-w-0",children:t.length>0?e.jsxs(e.Fragment,{children:[k().slice(0,a).map((s,n)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-md",children:[s,e.jsx("button",{type:"button",onClick:l=>w(t[n],l),className:"ml-1 hover:text-blue-600 focus:outline-none",children:e.jsx(u,{})})]},t[n])),t.length>a&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",t.length-a," more"]})]}):e.jsx("span",{className:"text-gray-500",children:h})}),e.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[t.length>0&&e.jsx("button",{type:"button",onClick:y,className:"p-1 hover:bg-gray-200 rounded text-gray-500 hover:text-gray-700 focus:outline-none",title:"Clear all",children:e.jsx(u,{className:"w-4 h-4"})}),e.jsx(L,{className:"text-gray-500",children:e.jsx(x,{})})]})]}),e.jsx(I,{children:e.jsxs(S,{className:"overflow-hidden bg-white rounded-lg shadow-lg border border-gray-200 z-50",position:"popper",align:"start",sideOffset:4,children:[e.jsx(M,{className:"flex items-center justify-center h-6 bg-white text-gray-700 cursor-default",children:e.jsx($,{})}),e.jsxs(B,{className:"p-2 max-h-64",children:[r.map(s=>{const n=t.includes(s.value);return e.jsxs(O,{value:s.value,disabled:s.disabled,className:`
                      relative flex items-center px-8 py-2 text-sm rounded-md
                      focus:bg-blue-50 focus:outline-none focus:text-blue-900
                      ${n?"bg-blue-50 text-blue-900":"text-gray-900"}
                      ${s.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-gray-100"}
                      transition-colors duration-150
                    `,onPointerDown:l=>{s.disabled||(l.preventDefault(),p(s.value))},children:[e.jsx(P,{className:"absolute left-2 w-4 h-4 inline-flex items-center justify-center",children:e.jsx(T,{})}),e.jsx(R,{children:s.label})]},s.value)}),r.length===0&&e.jsx("div",{className:"px-8 py-2 text-sm text-gray-500 text-center",children:"No options available"})]}),e.jsx(W,{className:"flex items-center justify-center h-6 bg-white text-gray-700 cursor-default",children:e.jsx(x,{})})]})})]}),i&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]})};export{U as M};
