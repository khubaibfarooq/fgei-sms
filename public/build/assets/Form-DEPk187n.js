import{m as g,R as T,j as e,L as k,$ as A,S as c}from"./app-BK6rJmXu.js";import{A as _,S as I,a as E,d as w}from"./app-layout-l2ehg8M-.js";import{B as h}from"./button-DQRWskQe.js";import{C as F,a as L,b as B,c as R}from"./card-CFozJfSo.js";import{I as u}from"./input-BhmyGZ1i.js";import{L as i}from"./label-PkJxfG5i.js";import{C as m}from"./checkbox-Bp8wytCt.js";import{S as D,a as $,b as M,c as O,d as p}from"./select-CTUAKAeR.js";import"./index-Dz8p6-mA.js";import"./createLucideIcon-CPp4hRCG.js";import"./index-Bu8RmbGK.js";import"./app-logo-icon-B_1bd3yx.js";import"./folder-root-DNnhk5Gq.js";import"./grip-vertical-tnNTqh0H.js";import"./index-Pry_Nrkz.js";import"./index-CNgE_rBi.js";function se({type:a,types:o}){const n=!!a,{data:t,setData:r,processing:x,errors:l,reset:j}=g({name:(a==null?void 0:a.name)||"",parent_id:(a==null?void 0:a.parent_id)||"none",module:(a==null?void 0:a.module)||"",isblock:(a==null?void 0:a.isblock)||!1,isroom:(a==null?void 0:a.isroom)||!1,isasset:(a==null?void 0:a.isasset)||!1}),f=T.useMemo(()=>o?Array.isArray(o)?o:Object.entries(o).map(([s,d])=>({id:parseInt(s),name:d})):[],[o]),b=s=>{r("isblock",s),s||(r("isroom",!1),r("isasset",!1))},N=s=>{r("isroom",s),s&&r("isblock",!0),s||r("isasset",!1)},v=s=>{r("isasset",s),s&&(r("isroom",!0),r("isblock",!0))},C=s=>{s.preventDefault();const d={...t,parent_id:t.parent_id==="none"?null:t.parent_id};n?c.put(`/types/${a.id}`,d,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{c.get("/types")}}):c.post("/types",d,{onSuccess:()=>{j()}})},S=[{title:"Types",href:"/types"},{title:n?"Edit Type":"Add Type",href:"#"}];return e.jsxs(_,{breadcrumbs:S,children:[e.jsx(k,{title:n?"Edit Type":"Add Type"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(F,{children:[e.jsxs(L,{children:[e.jsx(B,{className:"text-2xl font-bold",children:n?"Edit Type":"Add Type"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n?"Edit Type details":"Create a new Type"})]}),e.jsx(I,{}),e.jsx(R,{className:"pt-6",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Type Name"}),e.jsx(u,{id:"name",value:t.name,onChange:s=>r("name",s.target.value),placeholder:"Enter Type name"}),l.name&&e.jsx("p",{className:"text-sm text-red-600",children:l.name}),e.jsx(i,{htmlFor:"module",children:"Module (Table Name)"}),e.jsx(u,{id:"module",value:t.module,onChange:s=>r("module",s.target.value),placeholder:"Enter module/table name"}),l.module&&e.jsx("p",{className:"text-sm text-red-600",children:l.module}),e.jsx(i,{htmlFor:"parent_id",children:"Parent Type"}),e.jsxs(D,{value:t.parent_id.toString(),onValueChange:s=>r("parent_id",s),children:[e.jsx($,{children:e.jsx(M,{placeholder:"Select Parent Type"})}),e.jsxs(O,{children:[e.jsx(p,{value:"none",children:"None"}),f.map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))]})]}),l.parent_id&&e.jsx("p",{className:"text-sm text-red-600",children:l.parent_id})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx(i,{className:"text-base font-semibold",children:"Include Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"isblock",checked:t.isblock,onCheckedChange:s=>b(s)}),e.jsx(i,{htmlFor:"isblock",className:"text-sm font-normal cursor-pointer",children:"Is Block Included"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"isroom",checked:t.isroom,onCheckedChange:s=>N(s)}),e.jsx(i,{htmlFor:"isroom",className:"text-sm font-normal cursor-pointer",children:"Is Room Included"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"isasset",checked:t.isasset,onCheckedChange:s=>v(s)}),e.jsx(i,{htmlFor:"isasset",className:"text-sm font-normal cursor-pointer",children:"Is Asset Included"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(A,{href:"/types",children:e.jsxs(h,{type:"button",variant:"secondary",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(h,{type:"submit",disabled:x,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),x?n?"Saving...":"Adding...":n?"Save Changes":"Add Type"]})]})]})})]})})]})}export{se as default};
