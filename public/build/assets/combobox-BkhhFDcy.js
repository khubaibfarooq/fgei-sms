import{r as v,j as e}from"./app-CyWn1lGs.js";import{P,a as y,b as E,_ as $,S as I,C as M,I as O,E as R,h as d}from"./popover-Bqcbb87j.js";import{B as k,c as m}from"./button-DEaq9HwV.js";import{aR as B}from"./app-layout-DiCluG1e.js";import{C as u}from"./index-C0lFZd38.js";function T({entity:o,value:a,onChange:t,options:l,placeholder:h,notFoundMessage:f,includeAllOption:n=!1,allOptionLabel:p=`All ${o}s`,disabled:x=!1}){const[c,r]=v.useState(!1),j={institute:"Select Institute",permission:"Select permissions",role:"Select roles",user:"Select users",menu:"Select menus"},w={institute:"No institutes available",permission:"Permission not found",role:"Role not found",user:"User not found",menu:"Menu not found"},b=h||j[o]||`Select ${o}s`,S=f||w[o]||`${o} not found`,C=`Search ${o}...`,i=l.find(s=>s.id===a),N=(s,g)=>s==="0"&&n||s.toLowerCase().includes(g.toLowerCase())?1:0;return e.jsxs(P,{open:c,onOpenChange:r,children:[e.jsx(y,{asChild:!0,children:e.jsxs(k,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",disabled:x,children:[a&&i?i.name:b,e.jsx(B,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(E,{className:"w-full ps-2 max-h-60 overflow-y-auto",children:e.jsxs($,{filter:N,className:"w-full",children:[e.jsx(I,{placeholder:C,className:"w-full h-10 px-3 text-sm border-b"}),e.jsxs(M,{children:[e.jsx(O,{children:S}),e.jsxs(R,{children:[n&&e.jsxs(d,{className:"hover:bg-gray-200 data-[selected=true]:bg-gray-200",value:"0",onSelect:()=>{t("0"),r(!1)},children:[e.jsx(u,{className:m("mr-2 h-4 w-4",a==="0"?"opacity-100":"opacity-0")}),p]}),l.map(s=>e.jsxs(d,{className:"hover:bg-primary/80 hover:text-white data-[selected=true]:bg-primary/80 data-[selected=true]:text-white my-1 flex flex-row",value:s.name,onSelect:()=>{t(s.id),r(!1)},children:[e.jsx(u,{className:m("mr-2 mt-1 h-4 w-4",a===s.id?"opacity-100":"opacity-0")})," ",s.name]},s.id))]})]})]})})]})}export{T as C};
