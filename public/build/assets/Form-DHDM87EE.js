import{m as h,r as f,j as e,L as S,$ as v,S as o}from"./app-E-24Tcm1.js";import{A as g,S as N,b as k,c as _}from"./app-layout-CPhntKLh.js";import{B as m}from"./button-BMgCECBw.js";import{C as D,a as y,b as E,c as A}from"./card-Oy_twzqd.js";import{I as x}from"./index-BmCjJQpD.js";import{L as n}from"./label-Cc4ueol_.js";import{S as w,a as L,b as F,c as I,d as B}from"./select-DarCdw0N.js";import"./index-DzVJzVHJ.js";import"./createLucideIcon-BvzfF1mM.js";import"./index-CxPQjkFt.js";import"./app-logo-icon-CFgj-c9k.js";import"./index-K65HxfVz.js";import"./index-D3wYRMtY.js";function O({dashboardCard:t,roles:d}){const l=!!t;console.log(t);const{data:i,setData:r,processing:a,errors:c,reset:p}=h({title:(t==null?void 0:t.title)||"",link:(t==null?void 0:t.link)||"",role_id:(t==null?void 0:t.role_id)||""});f.useEffect(()=>{r(t?s=>({...s,title:t.title??"",link:t.link??"",role_id:t.role_id??""}):s=>({...s,title:"",link:"",role_id:""}))},[t,r]);const j=s=>{s.preventDefault(),l?o.put(`/dashboardcards/${t==null?void 0:t.id}`,i,{preserveScroll:!0,preserveState:!0}):o.post("/dashboardcards",i,{onSuccess:()=>{p()}})},u=[{title:"Dashboard Cards",href:"/dashboardcards"},{title:l?"Edit Dashboard Card":"Add Dashboard Card",href:"#"}];return e.jsxs(g,{breadcrumbs:u,children:[e.jsx(S,{title:l?"Edit Dashboard Card":"Add Dashboard Card"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(D,{children:[e.jsxs(y,{children:[e.jsx(E,{className:"text-2xl font-bold",children:l?"Edit Dashboard Card":"Add Dashboard Card"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l?"Update card details":"Create a new dashboard card"})]}),e.jsx(N,{}),e.jsx(A,{className:"pt-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"title",children:"Title"}),e.jsx(x,{id:"title",value:i.title,onChange:s=>r("title",s.target.value),placeholder:"Enter card title"}),c.title&&e.jsx("p",{className:"text-red-500 text-sm",children:c.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"link",children:"Link"}),e.jsx(x,{id:"link",value:i.link,onChange:s=>r("link",s.target.value),placeholder:"Enter card link"}),c.link&&e.jsx("p",{className:"text-red-500 text-sm",children:c.link})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"role_id",children:"Role"}),e.jsxs(w,{value:i.role_id?i.role_id.toString():"",onValueChange:s=>r("role_id",parseInt(s)),children:[e.jsx(L,{children:e.jsx(F,{placeholder:"Select role"})}),e.jsx(I,{children:d.map(s=>e.jsx(B,{value:s.id.toString(),children:s.name},s.id))})]}),c.role_id&&e.jsx("p",{className:"text-red-500 text-sm",children:c.role_id})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(v,{href:"/dashboardcards",children:e.jsxs(m,{type:"button",variant:"secondary",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(m,{type:"submit",disabled:a,children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),a?l?"Saving...":"Adding...":l?"Save Changes":"Add Card"]})]})]})})]})})]})}export{O as default};
