import{r as j,j as e,L as g,$ as o,S as a}from"./app-BC4g3-Sh.js";import{A as f,e as v,S,f as A,T as N}from"./app-layout-D2DE53xZ.js";import{B as l}from"./button-NzCsb15S.js";import{C as b,a as C,b as y,c as D}from"./card-D3FFSLEP.js";import{I as _}from"./input-B38sVd47.js";import{S as w,a as L,b as P,c as T,d as c}from"./select-CKkZPOst.js";import{A as E,a as I,b as M,c as $,d as z,e as G,f as H,g as V,h as k}from"./alert-dialog-ESOynmcv.js";import{t as d}from"./index-D5grnXr_.js";import"./index-q3AzPoZD.js";import"./createLucideIcon-CuuBrquh.js";import"./index-DXUZiMwj.js";import"./index-B8QJ6AuC.js";import"./index-QP_HzfFt.js";import"./index-D368l6qP.js";import"./app-logo-icon-CWQ_cq_6.js";import"./circle-x-BFsT17H-.js";import"./folder-root-Djpr5ABJ.js";import"./grip-vertical-DpyLEmjT.js";import"./index-CxugRWfh.js";import"./index-BEeyM0RA.js";const B=[{title:"Permission Management",href:"/permissions"}];function oe({permissions:r,groups:m,filters:t}){const[n,x]=j.useState(t.search||""),h=s=>{a.delete(`/permissions/${s}`,{onSuccess:()=>d.success("Permission deleted successfully"),onError:()=>d.error("Failed to delete permission")})},p=s=>{const i=s==="__ALL__"?"":s;a.get("/permissions",{...t,group:i},{preserveScroll:!0})},u=s=>{s.key==="Enter"&&a.get("/permissions",{...t,search:n},{preserveScroll:!0})};return e.jsxs(f,{breadcrumbs:B,children:[e.jsx(g,{title:"Permission Management"}),e.jsx("div",{className:"flex-1 p-4 md:p-6",children:e.jsxs(b,{children:[e.jsxs(C,{className:"pb-3 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(y,{className:"text-2xl font-bold",children:"Permissions"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage system access permissions"})]}),e.jsx(o,{href:"/permissions/create",children:e.jsxs(l,{children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Add Permission"]})})]}),e.jsx(S,{}),e.jsxs(D,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsx(_,{type:"text",placeholder:"Search permissions... (press Enter)",value:n,onChange:s=>x(s.target.value),onKeyDown:u}),e.jsxs(w,{value:t.group||"__ALL__",onValueChange:p,children:[e.jsx(L,{className:"md:w-64",children:e.jsx(P,{placeholder:"All Groups"})}),e.jsxs(T,{children:[e.jsx(c,{value:"__ALL__",children:"All Groups"}),m.map(s=>e.jsx(c,{value:s,children:s},s))]})]})]}),e.jsx("div",{className:"space-y-3",children:r.data.length===0?e.jsx("p",{className:"text-muted-foreground text-center",children:"No data available."}):r.data.map(s=>e.jsxs("div",{className:"flex items-center justify-between border px-4 py-3 rounded-md bg-muted/50 hover:bg-muted/70 transition",children:[e.jsx("div",{className:"font-medium text-sm text-foreground",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{href:`/permissions/${s.id}/edit`,children:e.jsx(l,{variant:"ghost",size:"icon",children:e.jsx(A,{className:"h-4 w-4"})})}),e.jsxs(E,{children:[e.jsx(I,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"icon",className:"text-destructive hover:text-red-600",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsxs(M,{children:[e.jsxs($,{children:[e.jsx(z,{children:"Delete this permission?"}),e.jsxs(G,{children:["Permission ",e.jsx("strong",{children:s.name})," will be permanently deleted."]})]}),e.jsxs(H,{children:[e.jsx(V,{children:"Cancel"}),e.jsx(k,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>h(s.id),children:"Delete"})]})]})]})]})]},s.id))}),r.links.length>1&&e.jsx("div",{className:"flex justify-center pt-6 flex-wrap gap-2",children:r.links.map((s,i)=>e.jsx(l,{disabled:!s.url,variant:s.active?"default":"outline",size:"sm",onClick:()=>a.visit(s.url||"",{preserveScroll:!0}),children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},i))})]})]})})]})}export{oe as default};
