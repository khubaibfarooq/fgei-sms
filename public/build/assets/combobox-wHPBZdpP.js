import{r as P,j as e}from"./app-DqbNraeA.js";import{P as y,a as E,b as $,_ as I,S as M,C as O,I as k,E as B,h as u}from"./popover-JLHICyn4.js";import{B as F,c as t}from"./button-Dq6HA6Vn.js";import{aT as L}from"./app-layout-B6Je9ko-.js";import{C as m}from"./index-BdRdSK_W.js";function q({entity:o,value:r,onChange:n,options:l,placeholder:h,notFoundMessage:p,includeAllOption:c=!1,allOptionLabel:f=`All ${o}s`,disabled:x=!1,className:j}){const[i,a]=P.useState(!1),w={institute:"Select Institute",permission:"Select permissions",role:"Select roles",user:"Select users",menu:"Select menus"},b={institute:"No institutes available",permission:"Permission not found",role:"Role not found",user:"User not found",menu:"Menu not found"},N=h||w[o]||`Select ${o}s`,S=p||b[o]||`${o} not found`,C=`Search ${o}...`,d=l.find(s=>s.id===r),g=(s,v)=>s==="0"&&c||s.toLowerCase().includes(v.toLowerCase())?1:0;return e.jsxs(y,{open:i,onOpenChange:a,children:[e.jsx(E,{asChild:!0,children:e.jsxs(F,{variant:"outline",role:"combobox","aria-expanded":i,className:t("w-full justify-between",j),disabled:x,children:[e.jsx("span",{className:"truncate overflow-hidden",children:r&&d?d.name:N}),e.jsx(L,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx($,{className:"w-full ps-2 max-h-60 overflow-y-auto",children:e.jsxs(I,{filter:g,className:"w-full",children:[e.jsx(M,{placeholder:C,className:"w-full h-10 px-3 text-sm border-b"}),e.jsxs(O,{children:[e.jsx(k,{children:S}),e.jsxs(B,{children:[c&&e.jsxs(u,{className:"cursor-pointer hover:bg-gray-200 data-[selected=true]:bg-gray-200",value:"0",onSelect:()=>{n("0"),a(!1)},children:[e.jsx(m,{className:t("mr-2 h-4 w-4",r==="0"?"opacity-100":"opacity-0")}),f]}),l.map(s=>e.jsxs(u,{className:"cursor-pointer hover:bg-primary/80 hover:text-white data-[selected=true]:bg-primary/80 data-[selected=true]:text-white my-1 flex flex-row",value:s.name,onSelect:()=>{n(s.id),a(!1)},children:[e.jsx(m,{className:t("mr-2 mt-1 h-4 w-4",r===s.id?"opacity-100":"opacity-0")})," ",s.name]},s.id))]})]})]})})]})}export{q as C};
