import{m as f,j as e,L as b,$ as v}from"./app-DnumDQL_.js";import{B as n}from"./button-W187GbT8.js";import{I as d}from"./input-CO7fgi0N.js";import{L as i}from"./label-CsMaAUYx.js";import{A as w,S as c}from"./app-layout-BCsLwE8_.js";import{C as g,a as C,b as S,c as U}from"./card-z2W_NHdW.js";import{S as y,a as E,b as k,c as F,d as L}from"./select-2APHE_73.js";import"./clsx-B-dksMZM.js";import"./index-Kxh7Oxci.js";import"./index-x0URM9An.js";import"./index-Bn5-amje.js";import"./createLucideIcon-BnM6t9vF.js";import"./index-GLmHMXCU.js";import"./index-7ivnv9TP.js";import"./index-BM8RsdCP.js";import"./app-logo-icon-eYuW_fi8.js";import"./circle-x-MZP0Slub.js";import"./folder-root-Brtx0bBf.js";import"./grip-vertical-CtabzVOR.js";import"./index-Ca1i_HaY.js";import"./index-CachTuf2.js";function Z({user:r,roles:p,currentRole:x}){const t=!!r,{data:l,setData:m,post:h,put:j,processing:o,errors:s}=f({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",password:"",role:x||""}),u=a=>{a.preventDefault(),t?j(`/users/${r==null?void 0:r.id}`):h("/users")},N=[{title:"User Management",href:"/users"},{title:t?"Edit User":"Create User",href:"#"}];return e.jsxs(w,{breadcrumbs:N,children:[e.jsx(b,{title:t?"Edit User":"Create User"}),e.jsx("div",{className:"flex-1 p-4 md:p-6",children:e.jsxs(g,{className:"max-w-3xl mx-auto",children:[e.jsxs(C,{className:"pb-3",children:[e.jsx(S,{className:"text-2xl font-bold tracking-tight",children:t?"Edit User":"Create New User"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Update user data and role":"Enter user data and set role"})]}),e.jsx(c,{}),e.jsx(U,{className:"pt-5",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",className:"mb-2 block",children:"Name"}),e.jsx(d,{id:"name",placeholder:"Full name",value:l.name,onChange:a=>m("name",a.target.value),className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",className:"mb-2 block",children:"Email"}),e.jsx(d,{id:"email",placeholder:"Email address",value:l.email,onChange:a=>m("email",a.target.value),className:s.email?"border-red-500":""}),s.email&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.email})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"password",className:"mb-2 block",children:["Password ",t?"(Optional)":""]}),e.jsx(d,{id:"password",type:"password",placeholder:"••••••••",value:l.password,onChange:a=>m("password",a.target.value),className:s.password?"border-red-500":""}),s.password&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.password})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"role",className:"mb-2 block",children:"Role"}),e.jsxs(y,{value:l.role,onValueChange:a=>m("role",a),children:[e.jsx(E,{children:e.jsx(k,{placeholder:"Select role"})}),e.jsx(F,{children:p.map(a=>e.jsx(L,{value:a.name,children:a.name},a.id))})]}),s.role&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.role})]})]}),e.jsx(c,{}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-2",children:[e.jsx(v,{href:"/users",className:"w-full sm:w-auto",children:e.jsx(n,{type:"button",variant:"secondary",className:"w-full",children:"Back"})}),e.jsx(n,{type:"submit",disabled:o,className:"w-full sm:w-auto",children:o?e.jsx("span",{className:"animate-pulse",children:"Saving..."}):t?"Save Changes":"Create User"})]})]})})]})})]})}export{Z as default};
