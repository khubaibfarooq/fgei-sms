import{m as k,r as v,j as e,L as f,$ as h,S as p}from"./app-fkWOkd0g.js";import{A as S,S as N,d as y,e as E}from"./app-layout-CqCecIGY.js";import{B as a}from"./button-0lHC1wr-.js";import{C as _,a as D,b as A,c as L}from"./card-DbKUerQs.js";import{I as o}from"./index-Bh0qyi3B.js";import{L as n}from"./label-D0rILLgN.js";import{S as w,a as F,b as I,c as B,d as R}from"./select-OvztCmAc.js";import"./index-D3O8HH8y.js";import"./createLucideIcon-Dck14qNA.js";import"./index-BJwb7vsp.js";import"./app-logo-icon-t5uTmq4G.js";import"./index-B5IA_FAV.js";import"./index-fSToPTAj.js";function Q({dashboardCard:t,roles:j}){const c=!!t;console.log(t);const{data:s,setData:r,processing:x,errors:i,reset:u}=k({id:(t==null?void 0:t.id)||"",title:(t==null?void 0:t.title)||"",link:(t==null?void 0:t.link)||"",color:(t==null?void 0:t.color)||"",role_id:(t==null?void 0:t.role_id)||"",redirectlink:(t==null?void 0:t.redirectlink)||""});v.useEffect(()=>{r(t?l=>({...l,title:t.title??"",link:t.link??"",color:t.color??"",role_id:t.role_id??"",redirectlink:t.redirectlink??""}):l=>({...l,title:"",link:"",color:"",role_id:"",redirectlink:""}))},[t,r]);const g=l=>{l.preventDefault(),c?p.put(`/dashboardcards/${t==null?void 0:t.id}`,s,{preserveScroll:!0,preserveState:!0,onError:m=>console.log(m)}):p.post("/dashboardcards",s,{onSuccess:()=>u(),onError:m=>console.log(m)})},d=[{title:"Dashboard Cards",href:"/dashboardcards"},{title:c?"Edit Dashboard Card":"Add Dashboard Card",href:"#"}];return e.jsxs(S,{breadcrumbs:d,children:[e.jsx(f,{title:c?"Edit Dashboard Card":"Add Dashboard Card"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(_,{children:[e.jsxs(D,{children:[e.jsx(A,{className:"text-2xl font-bold",children:c?"Edit Dashboard Card":"Add Dashboard Card"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Update card details":"Create a new dashboard card"})]}),e.jsx(N,{}),e.jsx(L,{className:"pt-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"title",children:"Title"}),e.jsx(o,{id:"title",value:s.title,onChange:l=>r("title",l.target.value),placeholder:"Enter card title"}),i.title&&e.jsx("p",{className:"text-red-500 text-sm",children:i.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"link",children:"Link"}),e.jsx(o,{id:"link",value:s.link,onChange:l=>r("link",l.target.value),placeholder:"Enter card link"}),i.link&&e.jsx("p",{className:"text-red-500 text-sm",children:i.link})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"role_id",children:"Role"}),e.jsxs(w,{value:s.role_id?s.role_id.toString():"",onValueChange:l=>r("role_id",parseInt(l)),children:[e.jsx(F,{children:e.jsx(I,{placeholder:"Select role"})}),e.jsx(B,{children:j.map(l=>e.jsx(R,{value:l.id.toString(),children:l.name},l.id))})]}),i.role_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.role_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"color",children:"Color"}),e.jsx(o,{type:"color",id:"color",value:s.color,onChange:l=>r("color",l.target.value)}),i.color&&e.jsx("p",{className:"text-red-500 text-sm",children:i.color}),e.jsx(n,{htmlFor:"redirectlink",children:"Redirect Link"}),e.jsx(o,{id:"redirectlink",value:s.redirectlink,onChange:l=>r("redirectlink",l.target.value)}),i.redirectlink&&e.jsx("p",{className:"text-red-500 text-sm",children:i.redirectlink})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(h,{href:"/dashboardcards",children:e.jsxs(a,{type:"button",variant:"secondary",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(a,{type:"submit",disabled:x,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),x?c?"Saving...":"Adding...":c?"Save Changes":"Add Card"]})]})]})})]})})]})}export{Q as default};
