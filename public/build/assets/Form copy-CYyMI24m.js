import{m as f,j as e,L as _,$ as b,S as x}from"./app-e3Zsy80_.js";import{A as N,S as t,a as C,j as S}from"./app-layout-CyO8erP4.js";import{B as j}from"./button-DW3htLx7.js";import{C as u,a as y,b as F,c as I}from"./card-CiRuNY-H.js";import{I as c}from"./input-s7qtj7IN.js";import{L as o}from"./label-CG7tAwns.js";import{S as A,a as E,b as w,c as D,d as p}from"./select-BSXS_oBQ.js";import"./index-B9dVoXMm.js";import"./createLucideIcon-BxspQs35.js";import"./index-Cx0V5GgA.js";import"./app-logo-icon-DQMRRLND.js";import"./folder-root-BM8jFrM1.js";import"./grip-vertical-BI-ffwU1.js";import"./index-DMTjCyTI.js";import"./index-CDj1X7AC.js";function M({institute:a}){const n=!!a,{data:s,setData:m,processing:i,errors:h}=f({name:(a==null?void 0:a.name)||"",establishment_date:(a==null?void 0:a.establishment_date)||new Date().toISOString().split("T")[0],area:(a==null?void 0:a.area)||0,convered_area:(a==null?void 0:a.convered_area)||0,layout_img:(a==null?void 0:a.layout_img)||"",img_3d:(a==null?void 0:a.img_3d)||"",video:(a==null?void 0:a.video)||"",gender:(a==null?void 0:a.gender)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",email:(a==null?void 0:a.email)||""}),v=r=>{r.preventDefault();const d=new FormData;Object.keys(s).forEach(l=>{if(!(s[l]===null||s[l]==="")){if(l==="layout_img"||l==="img_3d"||l==="video"){s[l]instanceof File&&d.append(l,s[l]);return}if(l==="area"||l==="convered_area"){d.append(l,s[l].toString());return}d.append(l,s[l])}}),n?(d.append("_method","PUT"),x.post(`/institutes/${a.id}`,d,{forceFormData:!0,preserveScroll:!0,preserveState:!0})):x.post("institutes.store",d,{forceFormData:!0})},g=[{title:"Institute",href:"/institute"},{title:n?"Edit Institute":"Add Institute",href:"#"}];return e.jsxs(N,{breadcrumbs:g,children:[e.jsx(_,{title:n?"Edit Institute":"Add Institute"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsx(F,{className:"text-2xl font-bold",children:n?"Edit Institute":"Add Institute"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n?"Edit institute details":"Create a new institute"})]}),e.jsx(t,{}),e.jsx(I,{className:"pt-6",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Institute Name"}),e.jsx(c,{id:"name",value:s.name,onChange:r=>m("name",r.target.value),className:h.name?"border-red-500":""}),h.name&&e.jsx("p",{className:"text-sm text-red-500",children:h.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"establishment_date",children:"Establishment Date"}),e.jsx(c,{id:"establishment_date",type:"date",value:s.establishment_date,onChange:r=>m("establishment_date",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"area",children:"Total Area (sq ft)"}),e.jsx(c,{id:"area",type:"number",value:s.area,onChange:r=>m("area",Number(r.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"convered_area",children:"Covered Area (sq ft)"}),e.jsx(c,{id:"convered_area",type:"number",value:s.convered_area,onChange:r=>m("convered_area",Number(r.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"gender",children:"Gender"}),e.jsxs(A,{value:s.gender,onValueChange:r=>m("gender",r),children:[e.jsx(E,{children:e.jsx(w,{placeholder:"Select gender..."})}),e.jsxs(D,{children:[e.jsx(p,{value:"male",children:"Boys"}),e.jsx(p,{value:"female",children:"Girls"}),e.jsx(p,{value:"mixed",children:"Co-Education"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"address",children:"Address"}),e.jsx(c,{id:"address",value:s.address,onChange:r=>m("address",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"phone",children:"Phone"}),e.jsx(c,{id:"phone",value:s.phone,onChange:r=>m("phone",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",type:"email",value:s.email,onChange:r=>m("email",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"layout_img",children:"Layout Image"}),e.jsx(c,{id:"layout_img",type:"file",accept:"image/*",onChange:r=>{var d;return m("layout_img",((d=r.target.files)==null?void 0:d[0])||null)}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"img_3d",children:"3D Image"}),e.jsx(c,{id:"img_3d",type:"file",accept:"image/*",onChange:r=>{var d;return m("img_3d",((d=r.target.files)==null?void 0:d[0])||null)}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"video",children:"Video"}),e.jsx(c,{id:"video",type:"file",accept:"video/*",onChange:r=>{var d;return m("video",((d=r.target.files)==null?void 0:d[0])||null)}})]}),e.jsx(t,{}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx(b,{href:"/institutes",children:e.jsxs(j,{type:"button",variant:"secondary",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(j,{type:"submit",disabled:i,children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),i?n?"Saving...":"Adding...":n?"Save Changes":"Add Institute"]})]})]})})]})})]})}export{M as default};
