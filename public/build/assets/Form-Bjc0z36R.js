import{m as f,r as h,j as e,L as v,$ as S,S as a}from"./app-DBa96I_M.js";import{A as N,S as k,b as y,c as E}from"./app-layout-CyF-ftH0.js";import{B as p}from"./button-nXvnCGH4.js";import{C as _,a as D,b as A,c as w}from"./card-CYj0yWJW.js";import{I as m}from"./index-QFgjSPGI.js";import{L as n}from"./label-C7Du5IEV.js";import{S as L,a as F,b as I,c as B,d as T}from"./select-C3Qdn8cR.js";import"./index-C0181Kqq.js";import"./createLucideIcon-B_a48ToW.js";import"./index-BnjCyX0h.js";import"./app-logo-icon-NgCHXIdZ.js";import"./index-DTWkTrMW.js";import"./index-Bq9Hlxl_.js";function Q({dashboardCard:l,roles:j}){const i=!!l;console.log(l);const{data:c,setData:r,processing:x,errors:s,reset:u}=f({id:(l==null?void 0:l.id)||"",title:(l==null?void 0:l.title)||"",link:(l==null?void 0:l.link)||"",color:(l==null?void 0:l.color)||"",role_id:(l==null?void 0:l.role_id)||""});h.useEffect(()=>{r(l?t=>({...t,title:l.title??"",link:l.link??"",color:l.color??"",role_id:l.role_id??""}):t=>({...t,title:"",link:"",color:"",role_id:""}))},[l,r]);const d=t=>{t.preventDefault(),i?a.put(`/dashboardcards/${l==null?void 0:l.id}`,c,{preserveScroll:!0,preserveState:!0,onError:o=>console.log(o)}):a.post("/dashboardcards",c,{onSuccess:()=>u(),onError:o=>console.log(o)})},g=[{title:"Dashboard Cards",href:"/dashboardcards"},{title:i?"Edit Dashboard Card":"Add Dashboard Card",href:"#"}];return e.jsxs(N,{breadcrumbs:g,children:[e.jsx(v,{title:i?"Edit Dashboard Card":"Add Dashboard Card"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(_,{children:[e.jsxs(D,{children:[e.jsx(A,{className:"text-2xl font-bold",children:i?"Edit Dashboard Card":"Add Dashboard Card"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i?"Update card details":"Create a new dashboard card"})]}),e.jsx(k,{}),e.jsx(w,{className:"pt-6",children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"title",children:"Title"}),e.jsx(m,{id:"title",value:c.title,onChange:t=>r("title",t.target.value),placeholder:"Enter card title"}),s.title&&e.jsx("p",{className:"text-red-500 text-sm",children:s.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"link",children:"Link"}),e.jsx(m,{id:"link",value:c.link,onChange:t=>r("link",t.target.value),placeholder:"Enter card link"}),s.link&&e.jsx("p",{className:"text-red-500 text-sm",children:s.link})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"role_id",children:"Role"}),e.jsxs(L,{value:c.role_id?c.role_id.toString():"",onValueChange:t=>r("role_id",parseInt(t)),children:[e.jsx(F,{children:e.jsx(I,{placeholder:"Select role"})}),e.jsx(B,{children:j.map(t=>e.jsx(T,{value:t.id.toString(),children:t.name},t.id))})]}),s.role_id&&e.jsx("p",{className:"text-red-500 text-sm",children:s.role_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"color",children:"Color"}),e.jsx(m,{type:"color",id:"color",value:c.color,onChange:t=>r("color",t.target.value)}),s.color&&e.jsx("p",{className:"text-red-500 text-sm",children:s.color})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(S,{href:"/dashboardcards",children:e.jsxs(p,{type:"button",variant:"secondary",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(p,{type:"submit",disabled:x,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),x?i?"Saving...":"Adding...":i?"Save Changes":"Add Card"]})]})]})})]})})]})}export{Q as default};
