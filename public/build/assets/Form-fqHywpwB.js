import{m as f,j as e,L as N,$ as b,S as n}from"./app-CkcYodU5.js";import{A as C,S as I,b as q,c as w}from"./app-layout-CA0taxXe.js";import{B as o}from"./button-DUoO-yjQ.js";import{C as E,a as F,b as L,c as $}from"./card-DZyE7GnU.js";import{I as m}from"./index-D6rz9pGW.js";import{L as c}from"./label-tkLj_Ykt.js";import{S as x,a as p,b as h,c as j,d as u}from"./select-Cffsz10v.js";import{T as D}from"./textarea-bl12fKyB.js";import"./index-D4jLaLer.js";import"./createLucideIcon-Bq9_6CC4.js";import"./index-CtPVKQF1.js";import"./app-logo-icon-DCGUb8I3.js";import"./index-D6A705ye.js";import"./index-B0qZ0l7l.js";function U({instituteAsset:s,assets:v,rooms:_}){const t=!!s,{data:r,setData:l,processing:i,errors:d,reset:g}=f({current_qty:(s==null?void 0:s.current_qty)||"",details:(s==null?void 0:s.details)||"",added_date:(s==null?void 0:s.added_date)||new Date().toISOString().split("T")[0],room_id:(s==null?void 0:s.room_id)||"",asset_id:(s==null?void 0:s.asset_id)||""}),y=a=>{a.preventDefault(),t?n.put(`/institute-assets/${s.id}`,r,{preserveScroll:!0,preserveState:!0}):n.post("/institute-assets",r,{onSuccess:()=>{g()}})},S=[{title:"Institute Assets",href:"/institute-assets"},{title:t?"Edit Asset":"Add Asset",href:"#"}];return e.jsxs(C,{breadcrumbs:S,children:[e.jsx(N,{title:t?"Edit Institute Asset":"Add Institute Asset"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(E,{children:[e.jsxs(F,{children:[e.jsx(L,{className:"text-2xl font-bold",children:t?"Edit Institute Asset":"Add Institute Asset"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Edit institute asset details":"Add a new asset to institute inventory"})]}),e.jsx(I,{}),e.jsx($,{className:"pt-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asset_id",children:"Asset"}),e.jsxs(x,{value:r.asset_id?r.asset_id.toString():"",onValueChange:a=>l("asset_id",a?parseInt(a):""),children:[e.jsx(p,{children:e.jsx(h,{placeholder:"Select Asset"})}),e.jsx(j,{children:v.map(a=>e.jsxs(u,{value:a.id.toString(),children:[a.name," ",a.category&&`(${a.category.name})`]},a.id))})]}),d.asset_id&&e.jsx("p",{className:"text-sm text-destructive",children:d.asset_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"current_qty",children:"Quantity"}),e.jsx(m,{id:"current_qty",type:"number",min:"1",value:r.current_qty,onChange:a=>l("current_qty",a.target.value?parseInt(a.target.value):""),placeholder:"Enter quantity"}),d.current_qty&&e.jsx("p",{className:"text-sm text-destructive",children:d.current_qty})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"added_date",children:"Added Date"}),e.jsx(m,{id:"added_date",type:"date",value:r.added_date,onChange:a=>l("added_date",a.target.value)}),d.added_date&&e.jsx("p",{className:"text-sm text-destructive",children:d.added_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"room_id",children:"Room"}),e.jsxs(x,{value:r.room_id?r.room_id.toString():"",onValueChange:a=>l("room_id",a?parseInt(a):""),children:[e.jsx(p,{children:e.jsx(h,{placeholder:"Select a room"})}),e.jsx(j,{children:_.map(a=>e.jsxs(u,{value:a.id.toString(),children:[a.name," ",a.block&&`(${a.block.name})`," ",a.type&&`- ${a.type.name}`]},a.id))})]}),d.room_id&&e.jsx("p",{className:"text-sm text-destructive",children:d.room_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"details",children:"Details"}),e.jsx(D,{id:"details",value:r.details,onChange:a=>l("details",a.target.value),placeholder:"Enter asset details or description",rows:4}),d.details&&e.jsx("p",{className:"text-sm text-destructive",children:d.details})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(b,{href:"/institute-assets",children:e.jsxs(o,{type:"button",variant:"secondary",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(o,{type:"submit",disabled:i,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),i?t?"Saving...":"Adding...":t?"Save Changes":"Add Asset"]})]})]})})]})})]})}export{U as default};
