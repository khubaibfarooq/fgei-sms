import{R as b,m as v,j as e,L as S,$ as g,S as o}from"./app-Dk37D3Vr.js";import{A as y,S as F,c as N,d as f}from"./app-layout-BDlOMZuu.js";import{B as m}from"./button-Df5ZUQP5.js";import{C,a as _,b as A,c as w}from"./card-CyiXp4xx.js";import{I as E}from"./input-vJo_1isZ.js";import{L as n}from"./label-B-8AomcI.js";import{T as L}from"./textarea-J02IYjyn.js";import{S as I,a as T,b as B,c as D,d as R}from"./select-BWHtRp8E.js";import"./index-C-azhO0l.js";import"./createLucideIcon-D9wZ9u-N.js";import"./index-BJjaeL9e.js";import"./app-logo-icon-BATg0_BG.js";import"./folder-root-NkT4TAtI.js";import"./grip-vertical-DhE6WAe1.js";import"./index-CZSuCKHf.js";import"./index-B-RG5YHt.js";function Z({fund:s,fundHeads:a}){const r=!!s,p=b.useMemo(()=>a?Array.isArray(a)?a:Object.entries(a).map(([t,j])=>({id:parseInt(t),name:j})):[],[a]),{data:i,setData:d,processing:c,errors:l,reset:x}=v({balance:(s==null?void 0:s.balance)||0,institute_id:(s==null?void 0:s.institute_id)||0,fund_head_id:(s==null?void 0:s.fund_head_id)||0,description:(s==null?void 0:s.description)||""}),h=t=>{t.preventDefault(),r?o.put(`/funds/${s.id}`,i,{preserveScroll:!0,preserveState:!0}):o.post("/funds",i,{onSuccess:()=>{x()}})},u=[{title:"Funds",href:"/funds"},{title:r?"Edit Fund":"Add Fund",href:"#"}];return e.jsxs(y,{breadcrumbs:u,children:[e.jsx(S,{title:r?"Edit Fund":"Add Fund"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(C,{children:[e.jsxs(_,{children:[e.jsx(A,{className:"text-2xl font-bold",children:r?"Edit Fund":"Add Fund"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Edit fund details":"Create a new fund"})]}),e.jsx(F,{}),e.jsx(w,{className:"pt-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"balance",children:"balance"}),e.jsx(E,{id:"balance",type:"number",value:i.balance,onChange:t=>d("balance",Number(t.target.value)),placeholder:"Enter balance"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"fund_head_id",children:"Fund Type"}),e.jsxs(I,{value:i.fund_head_id.toString(),onValueChange:t=>d("fund_head_id",parseInt(t)),children:[e.jsx(T,{children:e.jsx(B,{placeholder:"Select fund type"})}),e.jsx(D,{children:p.map(t=>e.jsx(R,{value:t.id.toString(),children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(L,{id:"description",value:i.description,onChange:t=>d("description",t.target.value),placeholder:"Enter description",rows:4}),l.description&&e.jsx("p",{className:"text-sm text-destructive",children:l.description})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(g,{href:"/funds",children:e.jsxs(m,{type:"button",variant:"secondary",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(m,{type:"submit",disabled:c,children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),c?r?"Saving...":"Adding...":r?"Save Changes":"Add Fund"]})]})]})})]})})]})}export{Z as default};
