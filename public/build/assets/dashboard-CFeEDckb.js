import{K as C,r as i,j as e,L as v,b as $}from"./app-C2OkhboS.js";import{A as k}from"./app-layout-C7GVbjKJ.js";import{C as d,c as m,a as p,b as g}from"./card-CDvRJDw8.js";import"./button-CJ09rd_g.js";import"./index-3cdzXP7Y.js";import"./index-BPnVaJWp.js";import"./createLucideIcon-CV0l_hk5.js";import"./index-D3K3lqUJ.js";import"./app-logo-icon-CRSnGZCs.js";const D=[{title:"Dashboard",href:"/dashboard"}],f=[{label:"Users",value:420,color:"#3b82f6"},{label:"Backups",value:80,color:"#10b981"},{label:"Activity Logs",value:1570,color:"#f59e0b"}],y=[{bg:"from-blue-50 to-blue-100",border:"border-blue-200",header:"bg-blue-500",text:"text-blue-800",accent:"bg-blue-200/50"},{bg:"from-green-50 to-green-100",border:"border-green-200",header:"bg-green-500",text:"text-green-800",accent:"bg-green-200/50"},{bg:"from-amber-50 to-amber-100",border:"border-amber-200",header:"bg-amber-500",text:"text-amber-800",accent:"bg-amber-200/50"}],L=t=>t.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),x=t=>!t||t.length===0?[]:Object.keys(t[0]),S=(t,a)=>{if(t==null)return"-";if(typeof t=="number")return t.toLocaleString();if(typeof t=="string"){if(["balance","cost","amount","price","value","total_cost","total_amount"].some(c=>a==null?void 0:a.toLowerCase().includes(c))){const c=parseFloat(t);if(!isNaN(c))return`$${c.toLocaleString()}`}return t}return String(t)};function K(){const{props:t}=C();t.auth.user;const a=t.cards||[],[b,u]=i.useState(f),[c,h]=i.useState(!1),j=[{title:t.title1||"Funds",data:t.tab1||[],columns:x(t.tab1||[])},{title:t.title2||"Tab2",data:t.tab2||[],columns:x(t.tab2||[])},{title:t.title3||"Tab3",data:t.tab3||[],columns:x(t.tab3||[])}];return i.useEffect(()=>{if(a.length===0)return;(async()=>{h(!0);try{const o=a.map(async l=>{try{const n=await $.get(l.link);return{label:l.title,value:n.data.count||0,color:l.color}}catch(n){return console.error(`Failed to fetch count for ${l.title}:`,n),{label:l.title,value:0,color:l.color}}}),s=await Promise.all(o);u(s)}catch(o){console.error("Failed to fetch summary data:",o)}finally{h(!1)}})()},[a]),e.jsxs(k,{breadcrumbs:D,children:[e.jsx(v,{title:"Dashboard"}),e.jsxs("div",{className:"flex flex-col gap-6  p-5",children:[e.jsx("div",{className:"relative px-8 py-6 text-center",children:e.jsx(d,{className:"inline-block bg-primary/95 backdrop-blur-sm shadow-2xl border-0 max-w-3xl mx-auto mb-2",style:{borderBottom:"6px solid rgba(0,0,255,0.7)"},children:e.jsx(m,{className:"p-4 px-10",children:e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"School Management System"})})})}),e.jsx("div",{className:"flex flex-wrap  gap-4",children:(c?f:b).map((r,o)=>e.jsx("div",{className:"w-full sm:w-64 md:w-56 lg:w-64",children:e.jsxs(d,{className:"shadow-lg rounded-xl border-0 overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 h-full",style:{background:`linear-gradient(135deg, ${r.color}20, ${r.color}40)`,borderLeft:`4px solid ${r.color}`},children:[e.jsx(p,{className:"px-6 py-4 pb-2",children:e.jsx(g,{className:"text-lg font-semibold text-gray-700 dark:text-white text-center",children:r.label})}),e.jsx(m,{className:"px-6 py-4 pt-2",children:e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 text-center",children:c?"...":r.value})})]})},o))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:j.map((r,o)=>{const s=y[o%y.length];return e.jsxs(d,{className:`bg-gradient-to-br ${s.bg} ${s.border} shadow-lg rounded-xl overflow-hidden`,children:[e.jsx(p,{className:`${s.header} text-white px-6 py-4`,children:e.jsxs(g,{className:"text-lg font-semibold flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-white rounded-full mr-2"}),r.title]})}),e.jsx(m,{className:"p-0",children:r.data.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:s.accent,children:e.jsx("tr",{children:r.columns.map((l,n)=>e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",style:{color:s.header.replace("bg-","text-")+"900"},children:L(l)},n))})}),e.jsx("tbody",{children:r.data.map((l,n)=>e.jsx("tr",{className:`border-b ${s.border}/30 hover:${s.bg.replace("from-","bg-").split(" ")[0]}/50 transition-colors`,children:r.columns.map((N,w)=>e.jsx("td",{className:`py-3 px-4 text-sm ${s.text}`,children:S(l[N])},w))},n))})]})}):e.jsx("div",{className:"py-8 text-center text-gray-500",children:"No data available"})})]},o)})})]})]})}export{K as default};
