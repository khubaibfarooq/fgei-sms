import{m as f,j as e,L as b,$ as v}from"./app-CpIVBYIx.js";import{B as n}from"./button-wF3TNfxN.js";import{I as i}from"./input-xhySQErx.js";import{L as d}from"./label-Bex9nUg2.js";import{A as w,S as c}from"./app-layout-f-e7V8IJ.js";import{C as g,a as C,b as S,c as U}from"./card-vqdeWkX3.js";import{S as y,a as E,b as k,c as F,d as L}from"./select-DpR4hq5h.js";import"./index-DxWXN8yB.js";import"./index-BrMIq9gG.js";import"./createLucideIcon-CFn7P_hx.js";import"./app-logo-icon-DTvdcRTn.js";import"./folder-root-N6ROQAhx.js";import"./grip-vertical-DLyMLsjK.js";import"./index-DNNnOD4G.js";import"./index-CZtj_wnx.js";function J({user:l,roles:p,currentRole:x}){const r=!!l,{data:t,setData:m,post:h,put:j,processing:o,errors:s}=f({name:(l==null?void 0:l.name)||"",email:(l==null?void 0:l.email)||"",password:"",role:x||""}),u=a=>{a.preventDefault(),r?j(`/users/${l==null?void 0:l.id}`):h("/users")},N=[{title:"User Management",href:"/users"},{title:r?"Edit User":"Create User",href:"#"}];return e.jsxs(w,{breadcrumbs:N,children:[e.jsx(b,{title:r?"Edit User":"Create User"}),e.jsx("div",{className:"flex-1 p-4 md:p-6",children:e.jsxs(g,{className:"max-w-3xl mx-auto",children:[e.jsxs(C,{className:"pb-3",children:[e.jsx(S,{className:"text-2xl font-bold tracking-tight",children:r?"Edit User":"Create New User"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Update user data and role":"Enter user data and set role"})]}),e.jsx(c,{}),e.jsx(U,{className:"pt-5",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",className:"mb-2 block",children:"Name"}),e.jsx(i,{id:"name",placeholder:"Full name",value:t.name,onChange:a=>m("name",a.target.value),className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"email",className:"mb-2 block",children:"Email"}),e.jsx(i,{id:"email",placeholder:"Email address",value:t.email,onChange:a=>m("email",a.target.value),className:s.email?"border-red-500":""}),s.email&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.email})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"password",className:"mb-2 block",children:["Password ",r?"(Optional)":""]}),e.jsx(i,{id:"password",type:"password",placeholder:"••••••••",value:t.password,onChange:a=>m("password",a.target.value),className:s.password?"border-red-500":""}),s.password&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.password})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"role",className:"mb-2 block",children:"Role"}),e.jsxs(y,{value:t.role,onValueChange:a=>m("role",a),children:[e.jsx(E,{children:e.jsx(k,{placeholder:"Select role"})}),e.jsx(F,{children:p.map(a=>e.jsx(L,{value:a.name,children:a.name},a.id))})]}),s.role&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.role})]})]}),e.jsx(c,{}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-2",children:[e.jsx(v,{href:"/users",className:"w-full sm:w-auto",children:e.jsx(n,{type:"button",variant:"secondary",className:"w-full",children:"Back"})}),e.jsx(n,{type:"submit",disabled:o,className:"w-full sm:w-auto",children:o?e.jsx("span",{className:"animate-pulse",children:"Saving..."}):r?"Save Changes":"Create User"})]})]})})]})})]})}export{J as default};
