import{r as l,j as e,L as $e}from"./app-B9SLT0V6.js";import{A as qe,S as Ve}from"./app-layout-B6PoArKt.js";import{B as te}from"./button-BF5k_P3B.js";import{C as Me,a as He,b as Ue,c as Ye}from"./card-Bgp0P5xJ.js";import{L as M}from"./label-DGfTVAHh.js";import{I as D}from"./image-preview-DidWqG30.js";import{C as se}from"./combobox-4nvf2r-5.js";import{f as H}from"./dateFormatter-Cn65gwBN.js";import{E as Ge,F as Je,a as Qe,b as Ke}from"./jspdf.plugin.autotable-DFm2LqM9.js";import{t as re}from"./index-cVD0HFXe.js";import"./index-WFzYa8P0.js";import"./createLucideIcon-B8-jA-Y4.js";import"./index-BCgo9dS5.js";import"./index-D1Worn79.js";import"./index-ChP2lZjH.js";import"./index-D0CFV24D.js";import"./input-B78jMLmf.js";import"./app-logo-icon-nbArkSr8.js";import"./circle-x-CcxXG3aJ.js";import"./clsx-B-dksMZM.js";import"./folder-root-DFHtStH4.js";import"./grip-vertical-DsEJvEKj.js";import"./popover-D8goDgz7.js";const Xe=[{title:"Institutional Report",href:"/reports/institutes"}],ae=g=>{const F=g!=null&&typeof g.id=="number"&&g.id>0&&typeof g.name=="string"&&g.name.trim()!=="";return F||console.warn("Invalid item detected:",g),F};function vt({institute:g=null,institutes:F=[],regions:oe=[],blocks:de=[],instituteAssets:ne=[],rooms:le=[],shifts:ie=[],upgradations:ce=[],funds:me=[],projects:he=[],transports:xe=[],filters:L={search:"",institute_id:"",region_id:""}}){const[ge,Ze]=l.useState(L.search||""),[B,U]=l.useState(L.institute_id||""),[i,pe]=l.useState(g);console.log("fetchedinstitute",i);const[Y,ue]=l.useState(L.region_id||""),[G,J]=l.useState(F),[Q,et]=l.useState(oe),[u,fe]=l.useState(de),[j,ye]=l.useState(ne),[f,be]=l.useState(le),[N,je]=l.useState(ie),[k,Ne]=l.useState(ce),[T,ke]=l.useState(!1),[A,we]=l.useState(!1),[E,ve]=l.useState(!1),[W,Se]=l.useState(!1),[z,Ie]=l.useState(!1),[O,Ce]=l.useState(!1),[y,_e]=l.useState(me),[w,Fe]=l.useState(he),[$,Pe]=l.useState(!1),[v,Re]=l.useState(xe),[q,De]=l.useState(!1),K=t=>{const s=typeof t=="number"?t:parseFloat(String(t).replace(/,/g,""))||0;return s>=1e6?`${(s/1e6).toFixed(2)} Mn`:new Intl.NumberFormat("ur-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)},Le=l.useMemo(()=>G.filter(ae),[G]),V=l.useMemo(()=>Q.filter(ae),[Q]);console.log(V);const Be=async t=>{try{const s=new URLSearchParams(t).toString(),h=await fetch(`/reports/institutes/getData?${s}`);if(!h.ok)throw new Error("Failed to fetch data");const c=await h.json();pe(c.institute||[]),console.log(i),fe(c.blocks||[]),ye(c.instituteAssets||[]),console.log(c.instituteAssets),be(c.rooms||[]),je(c.shifts||[]),Ne(c.upgradations||[]),_e(c.funds||[]),console.log(c.projects),Fe(c.projects||[]),Re(c.transports||[])}catch(s){console.error("Error fetching data:",s),re.error("Failed to load data")}},Te=t=>{U(t),Be({search:ge,institute_id:t,region_id:Y})},Ae=async t=>{try{const s=new URLSearchParams({region_id:t||""}).toString(),h=await fetch(`/reports/getInstitutes?${s}`);if(!h.ok)throw new Error("Failed to fetch institutes");const c=await h.json();console.log("Fetched institutes:",c),J(c),B&&t!=="0"&&!c.some(b=>b.id.toString()===B)&&U("")}catch(s){console.error("Error fetching institutes:",s),re.error("Failed to load institutes"),J([])}},Ee=async t=>{ue(t),Ae(t)},We=async()=>{const t=new Ge.Workbook,s=t.addWorksheet("Shifts");s.columns=[{header:"Name",key:"name",width:20},{header:"Building Name",key:"building_name",width:20},{header:"Building Type",key:"building_type",width:20}],N.forEach(a=>{var m;s.addRow({name:a.name,building_name:a.building_name,building_type:((m=a.building_type)==null?void 0:m.name)||"N/A"})});const h=t.addWorksheet("Blocks");h.columns=[{header:"Name",key:"name",width:20},{header:"Area (sq ft)",key:"area",width:15}],u.forEach(a=>{h.addRow({name:a.name,area:a.area})});const c=t.addWorksheet("Rooms");c.columns=[{header:"Name",key:"name",width:20},{header:"Area (sq ft)",key:"area",width:15},{header:"Block",key:"block",width:20}],f.forEach(a=>{var m;c.addRow({name:a.name,area:a.area,block:((m=a.block)==null?void 0:m.name)||"N/A"})});const b=t.addWorksheet("Assets");b.columns=[{header:"Asset",key:"asset",width:20},{header:"Quantity",key:"qty",width:10},{header:"Rooms",key:"locations",width:20}],j.forEach(a=>{var m;b.addRow({asset:((m=a.asset)==null?void 0:m.name)||"N/A",qty:a.total_qty,locations:a.locations_count})});const C=t.addWorksheet("Funds");C.columns=[{header:"Fund Head",key:"Fundhead",width:30},{header:"Balance",key:"balance",width:15}],y.forEach(a=>{var m;C.addRow({Fundhead:(m=a.fund_head)==null?void 0:m.name,balance:a.balance})});const o=t.addWorksheet("Upgradations");o.columns=[{header:"Details",key:"details",width:30},{header:"Date From",key:"from",width:15},{header:"Date To",key:"to",width:15},{header:"Level From",key:"levelfrom",width:15},{header:"Level To",key:"levelto",width:15},{header:"Status",key:"status",width:15}],k.forEach(a=>{o.addRow({details:a.details,from:a.from,to:a.to,levelfrom:a.levelfrom,levelto:a.levelto,status:a.status})});const d=t.addWorksheet("Projects");d.columns=[{header:"Project Type",key:"projecttype",width:30},{header:"Completed",key:"completed",width:15},{header:"In  Progress",key:"inprogress",width:15},{header:"Planned",key:"planned",width:15}],w.forEach(a=>{d.addRow({projecttype:a.name,completed:a.completed,inprogress:a.inprogress,planned:a.planned})});const r=t.addWorksheet("Transports");r.columns=[{header:"Vehicle No",key:"vehicle_no",width:20},{header:"Vehicle Type",key:"vehicle_type",width:20}],v.forEach(a=>{var m;r.addRow({vehicle_no:a.vehicle_no,vehicle_type:((m=a.vehicle_type)==null?void 0:m.name)||"N/A"})});const n=await t.xlsx.writeBuffer(),x=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Je.saveAs(x,"Institutional_Report.xlsx")},ze=async()=>{const t=new Qe;let s=20;const h=(o,d,r)=>{t.setFontSize(14),t.text(o,14,s),Ke(t,{head:[d],body:r,startY:s+3,styles:{fontSize:10},headStyles:{fillColor:[11,67,27]}}),s=t.lastAutoTable.finalY+8,s>t.internal.pageSize.height-50&&(t.addPage(),s=20)},c=o=>new Promise((d,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.src=o,n.onload=()=>{const x=document.createElement("canvas");x.width=n.width,x.height=n.height;const a=x.getContext("2d");a?(a.drawImage(n,0,0),d(x.toDataURL("image/jpeg"))):r(new Error("Canvas context not available"))},n.onerror=x=>r(x)}),b=async(o,d)=>{try{s>t.internal.pageSize.height-60&&(t.addPage(),s=20),t.setFontSize(16),t.text(o,14,s),s+=10;const r=await c(`/assets/${d}`),n=t.getImageProperties(r),x=t.internal.pageSize.getWidth()-28,a=n.height*x/n.width;s+a>t.internal.pageSize.height-20&&(t.addPage(),s=20,t.setFontSize(16),t.text(o,14,s),s+=10),t.addImage(r,"JPEG",14,s,x,a),s+=a+10}catch(r){console.error(`Failed to load image for ${o}:`,r)}},C=async(o,d)=>{const r=d.filter(S=>S.img);if(r.length===0)return;s>t.internal.pageSize.height-40&&(t.addPage(),s=20),t.setFontSize(16),t.text(o,14,s),s+=10;const n=t.internal.pageSize.getWidth(),x=14,a=5,m=(n-x*2-a*2)/3;for(let S=0;S<r.length;S+=3){const Oe=r.slice(S,S+3);let P=0;const X=[];for(const p of Oe){let _=null,I=0;try{_=await c(`/assets/${p.img}`);const R=t.getImageProperties(_);I=R.height*m/R.width}catch(R){console.error(`Failed to load image for ${p.name}:`,R)}const ee=I+10;ee>P&&(P=ee),X.push({imgData:_,height:I,name:p.name})}s+P>t.internal.pageSize.height-20&&(t.addPage(),s=20),X.forEach((p,_)=>{const I=x+_*(m+a);t.setFontSize(10);const Z=t.splitTextToSize(p.name,m);t.text(Z,I,s+5),p.imgData&&t.addImage(p.imgData,"JPEG",I,s+10,m,p.height)}),s+=P+10}s+=10};if(t.setFontSize(16),t.text("Institutional Report",14,15),s=25,N.length>0){const o=["Name","Building Name","Building Type"],d=N.map(r=>{var n;return[r.name,r.building_name,((n=r.building_type)==null?void 0:n.name)||"N/A"]});h("Shifts",o,d)}if(u.length>0){const o=["Name","Area (sq ft)"],d=u.map(r=>[r.name,r.area]);h("Blocks",o,d)}if(f.length>0){const o=["Name","Area (sq ft)","Block"],d=f.map(r=>{var n;return[r.name,r.area,((n=r.block)==null?void 0:n.name)||"N/A"]});h("Rooms",o,d)}if(j.length>0){const o=["Asset Name","Quantity","Rooms"],d=j.map(r=>[r.name,r.total_qty.toString(),r.locations_count.toString()]);h("Institute Assets",o,d)}if(y.length>0){const o=["Fund Head","Balance"],d=y.map(r=>{var n;return[(n=r.fund_head)==null?void 0:n.name,r.balance]});h("Institute Funds",o,d)}if(k.length>0){const o=["Details","Date From","Date To","Level From","Level To","Status"],d=k.map(r=>[r.details,r.from,r.to,r.levelfrom,r.levelto,r.status]);h("Institute Upgradations",o,d)}if(w.length>0){const o=["Project Type","Completed","In Progress","Planned"],d=w.map(r=>[r.name,r.completed,r.inprogress,r.planned]);h("Institute Projects",o,d)}if(v.length>0){const o=["Vehicle No","Vehicle Type"],d=v.map(r=>{var n;return[r.vehicle_no,((n=r.vehicle_type)==null?void 0:n.name)||"N/A"]});h("Institute Transports",o,d)}i!=null&&i.img_layout&&await b("Institute Layout",i.img_layout),i!=null&&i.img_3d&&await b("Institute Front View",i.img_3d),await C("Blocks Images",u),await C("Rooms Images",f),t.save("Institutional_Report.pdf")};return e.jsxs(qe,{breadcrumbs:Xe,children:[e.jsx($e,{title:"Institutional Report"}),e.jsxs("div",{className:"flex-1 p-3 ",children:[e.jsxs(Me,{children:[e.jsxs(He,{className:"pb-3 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:["          ",e.jsx(Ue,{children:"Institutional Report"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{onClick:ze,className:"w-full md:w-auto",children:"Export PDF"}),e.jsx(te,{onClick:We,className:"w-full md:w-auto",children:"Export Excel"})]})]}),e.jsx(Ve,{}),e.jsx(Ye,{className:"py-3 space-y-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[V.length>0&&e.jsx(se,{entity:"region",value:Y,onChange:t=>Ee(t),options:V.map(t=>({id:t.id.toString(),name:t.name.split(" ").pop()||t.name})),includeAllOption:!0}),e.jsx(se,{entity:"institute",value:B,onChange:t=>Te(t),options:Le.map(t=>({id:t.id.toString(),name:t.name})),includeAllOption:!0})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Current Layout Image"}),i!=null&&i.img_layout?e.jsx(D,{dataImg:`${i.img_layout}`,className:"w-full h-48 object-cover rounded"}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No layout image uploaded."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Current Front View Image"}),i!=null&&i.img_3d?e.jsx(D,{dataImg:`${i.img_3d}`,className:"w-full h-48 object-cover rounded"}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No Font View image uploaded."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Current Video"}),i!=null&&i.video?e.jsxs("video",{controls:!0,className:"w-full h-48 rounded",children:[e.jsx("source",{src:`/assets/${i.video}`,type:"video/mp4"}),"Your browser does not support the video tag."]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No video uploaded."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 my-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:`w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800 

  `,onClick:()=>ke(!T),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Shifts(",N.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${T?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),T&&e.jsx("div",{className:"p-4 border-t",children:N.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Building Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Building Type"})]})}),e.jsx("tbody",{children:N.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.building_name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:(s=t.building_type)==null?void 0:s.name})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No shifts available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>we(!A),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Blocks(",u.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${A?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A&&e.jsx("div",{className:"p-4 border-t",children:u.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Area (sq ft)"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Establish Date"})]})}),e.jsx("tbody",{children:u.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsxs("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:["  ",e.jsxs("div",{className:"flex flex-column gap-2 align-middle",children:[" ",e.jsx(D,{dataImg:t.img,size:"h-20 w-20 object-contain"}),"  ",e.jsx("span",{className:"font-bold",children:t.name})]})," "]}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.area}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:H(t.establish_date)})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No blocks available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 my-2  gap-6",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>ve(!E),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Rooms(",f.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&e.jsx("div",{className:"p-4 border-t",children:f.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Block"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Area (sq ft)"})]})}),e.jsx("tbody",{children:f.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:(s=t.block)==null?void 0:s.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:e.jsxs("div",{className:"flex flex-column gap-2 align-middle",children:[" ",e.jsx(D,{dataImg:t.img,size:"h-20 w-20 object-contain"}),"  ",e.jsx("span",{className:"font-bold",children:t.name})]})}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.area})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No rooms available"})})]}),e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Se(!W),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Assets(",j.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${W?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),W&&e.jsx("div",{className:"p-4 border-t",children:j.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Asset Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Total Quantity"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Rooms"})]})}),e.jsx("tbody",{children:j.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 font-bold dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border p-2 text-sm text-green-700 font-bold dark:text-gray-100",children:t.total_qty}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.locations_count})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No assets available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 my-2  md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Ie(!z),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Upgradations(",k.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),z&&e.jsx("div",{className:"p-4 border-t",children:k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Details"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Date from"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Date to"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Level From"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Level To"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Status"})]})}),e.jsx("tbody",{children:k.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.details}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:H(t.from)}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:H(t.to)}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.levelfrom}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.levelto}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.status})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No upgradations available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Pe(!$),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Projects(",w.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${$?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),$&&e.jsx("div",{className:"p-4 border-t",children:w.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Project Type"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Completed"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"In Progress"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Planned"})]})}),e.jsx("tbody",{children:w.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.completed}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.inprogress}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.planned})]}))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Fund available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 my-2  md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Ce(!O),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Funds(",y.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${O?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),O&&e.jsx("div",{className:"p-4 border-t",children:y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Fund Head"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Balance"})]})}),e.jsxs("tbody",{children:[y.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:(s=t.fund_head)==null?void 0:s.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100 font-bold",children:K(t.balance)})]},t.id)}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 text-md text-gray-900 font-bold dark:text-gray-100",children:"Total"}),e.jsx("td",{className:"border p-2 text-md text-gray-900 font-bold dark:text-gray-100",children:K(y.reduce((t,s)=>Number(t)+Number(s.balance),0))})]})]})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Fund available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/100",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>De(!q),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Transports(",v.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${q?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),q&&e.jsx("div",{className:"p-4 border-t",children:v.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Vehicle No"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Vehicle Type"})]})}),e.jsx("tbody",{children:v.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 font-bold dark:text-gray-100",children:t.vehicle_no}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:(s=t.vehicle_type)==null?void 0:s.name})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Transport available"})})]})]})]})]})}export{vt as default};
