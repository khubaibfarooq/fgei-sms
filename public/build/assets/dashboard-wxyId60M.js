import{K as C,r as i,j as e,L as v,b as w}from"./app-346T6A2c.js";import{A as $}from"./app-layout-CW6HLVs2.js";import{C as d,c as m,a as u,b as p}from"./card-3mg2VLmO.js";import"./button-BIt14okD.js";import"./index-D3XGE3LN.js";import"./index-C9vm-YMg.js";import"./createLucideIcon-DAHpsOdj.js";import"./index-CV5SvhuB.js";import"./app-logo-icon-DxG64hfD.js";const L=[{title:"Dashboard",href:"/dashboard"}],f=[{label:"Users",value:420,color:"#3b82f6",redirectlink:""},{label:"Backups",value:80,color:"#10b981",redirectlink:""},{label:"Activity Logs",value:1570,color:"#f59e0b",redirectlink:""}],y=[{bg:"from-blue-50 to-blue-100",border:"border-blue-200",header:"bg-blue-500",text:"text-blue-800",accent:"bg-blue-200/50"},{bg:"from-green-50 to-green-100",border:"border-green-200",header:"bg-green-500",text:"text-green-800",accent:"bg-green-200/50"},{bg:"from-amber-50 to-amber-100",border:"border-amber-200",header:"bg-amber-500",text:"text-amber-800",accent:"bg-amber-200/50"}],D=t=>t.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),b=t=>!t||t.length===0?[]:Object.keys(t[0]),S=(t,s)=>{if(t==null)return"-";if(typeof t=="number")return t.toLocaleString();if(typeof t=="string"){if(["balance","cost","amount","price","value","total_cost","total_amount"].some(c=>s==null?void 0:s.toLowerCase().includes(c))){const c=parseFloat(t);if(!isNaN(c))return`$${c.toLocaleString()}`}return t}return String(t)};function K(){const{props:t}=C();t.auth.user;const s=t.cards||[],[x,g]=i.useState(f),[c,h]=i.useState(!1),j=[{title:t.title1||"Funds",data:t.tab1||[],columns:b(t.tab1||[])},{title:t.title2||"Tab2",data:t.tab2||[],columns:b(t.tab2||[])},{title:t.title3||"Tab3",data:t.tab3||[],columns:b(t.tab3||[])}];return i.useEffect(()=>{if(s.length===0)return;(async()=>{h(!0);try{const o=s.map(async a=>{try{const n=await w.get(a.link);return{label:a.title,value:n.data.count||0,color:a.color,redirectlink:a.redirectlink}}catch(n){return console.error(`Failed to fetch count for ${a.title}:`,n),{label:a.title,value:0,color:a.color,redirectlink:a.redirectlink}}}),l=await Promise.all(o);g(l)}catch(o){console.error("Failed to fetch summary data:",o)}finally{h(!1)}})()},[s]),e.jsxs($,{breadcrumbs:L,children:[e.jsx(v,{title:"Dashboard"}),e.jsxs("div",{className:"flex flex-col gap-6  p-5",children:[e.jsx("div",{className:"relative px-8 py-6 text-center",children:e.jsx(d,{className:"inline-block bg-primary/95 backdrop-blur-sm shadow-2xl border-0 max-w-3xl mx-auto mb-2",style:{borderBottom:"6px solid rgba(0,0,255,0.7)"},children:e.jsx(m,{className:"p-4 px-10",children:e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"School Management System"})})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:(c?f:x).map((r,o)=>e.jsxs(d,{redirectLink:r.redirectlink,className:"shadow-lg rounded-xl border-0 overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 h-full",style:{background:`linear-gradient(135deg, ${r.color}20, ${r.color}40)`,borderLeft:`4px solid ${r.color}`},children:[e.jsx(u,{className:"px-6 py-4 pb-2",children:e.jsx(p,{className:"text-lg font-semibold text-gray-700 dark:text-white text-center",children:r.label})}),e.jsx(m,{className:"px-6 py-4 pt-2",children:e.jsx("div",{className:"text-3xl font-bold text-blue-700 dark:text-gray-100 text-center",children:c?"...":r.value})})]},o))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:j.map((r,o)=>{const l=y[o%y.length];return e.jsxs(d,{className:`bg-gradient-to-br ${l.bg} ${l.border} shadow-lg rounded-xl overflow-hidden dark:bg-gray-800 dark:border-gray-700`,children:[e.jsx(u,{className:`${l.header} text-white px-6 py-4 dark:bg-gray-700`,children:e.jsxs(p,{className:"text-lg font-semibold flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-white rounded-full mr-2"}),r.title]})}),e.jsx(m,{className:"p-0",children:r.data.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${l.accent} dark:bg-gray-600`,children:e.jsx("tr",{children:r.columns.map((a,n)=>e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium dark:text-gray-200",style:{color:l.header.replace("bg-","text-")+"900"},children:D(a)},n))})}),e.jsx("tbody",{children:r.data.map((a,n)=>e.jsx("tr",{className:`border-b ${l.border}/30 hover:${l.bg.replace("from-","bg-").split(" ")[0]}/50 transition-colors dark:border-gray-600 dark:hover:bg-gray-700/50`,children:r.columns.map((k,N)=>e.jsx("td",{className:`py-3 px-4 text-sm md:text-lg ${l.text} dark:white`,children:S(a[k])},N))},n))})]})}):e.jsx("div",{className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"No data available"})})]},o)})})]})]})}export{K as default};
