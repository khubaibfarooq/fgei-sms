import{r as P,j as e}from"./app-BmODJ77E.js";import{P as v,a as g,b as E,_ as $,S as I,C as M,I as O,E as k,h as u}from"./popover-DE6Ovqxe.js";import{B as y,c as d}from"./button-D9c9qIUh.js";import{c as B}from"./app-layout-Bbc4kv0B.js";import{C as m}from"./index-B2Es8r4J.js";function D({entity:o,value:r,onChange:n,options:t,placeholder:p,notFoundMessage:f,includeAllOption:l=!1,allOptionLabel:h=`All ${o}s`}){const[c,a]=P.useState(!1),x={institute:"Select Institute",permission:"Select permissions",role:"Select roles",user:"Select users",menu:"Select menus"},j={institute:"No institutes available",permission:"Permission not found",role:"Role not found",user:"User not found",menu:"Menu not found"},w=p||x[o]||`Select ${o}s`,S=f||j[o]||`${o} not found`,C=`Search ${o}...`,i=t.find(s=>s.id===r),b=(s,N)=>s==="0"&&l||s.toLowerCase().includes(N.toLowerCase())?1:0;return e.jsxs(v,{open:c,onOpenChange:a,children:[e.jsx(g,{asChild:!0,children:e.jsxs(y,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[r&&i?i.name:w,e.jsx(B,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(E,{className:"w-full p-0 max-h-60 overflow-y-auto",children:e.jsxs($,{filter:b,className:"w-full",children:[e.jsx(I,{placeholder:C,className:"w-full h-10 px-3 text-sm border-b"}),e.jsxs(M,{children:[e.jsx(O,{children:S}),e.jsxs(k,{children:[l&&e.jsxs(u,{value:"0",onSelect:()=>{n("0"),a(!1)},children:[e.jsx(m,{className:d("mr-2 h-4 w-4",r==="0"?"opacity-100":"opacity-0")}),h]}),t.map(s=>e.jsxs(u,{value:s.name,onSelect:()=>{n(s.id),a(!1)},children:[e.jsx(m,{className:d("mr-2 h-4 w-4",r===s.id?"opacity-100":"opacity-0")}),s.name]},s.id))]})]})]})})]})}export{D as C};
