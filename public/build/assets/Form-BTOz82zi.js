import{m as v,j as e,L as f,$ as y}from"./app-D5o5hejd.js";import{A as N,S,a as g,f as b}from"./app-layout-DPWRiClI.js";import{B as p}from"./button-D7rGq_IX.js";import{C as E,a as A,b as _,c as w}from"./card-BItJS-59.js";import{I as m}from"./input-CO72Lmmv.js";import{L as l}from"./label-D1Q7UjKM.js";import{S as F,a as L,b as B,c as I,d as $}from"./select-D01b54wC.js";import"./index-BrC4_ZXW.js";import"./createLucideIcon-B1UvsN1f.js";import"./index-B_5xmcEg.js";import"./index-nKiR66bB.js";import"./index-DtP3imRE.js";import"./index-DCGONj57.js";import"./index-DzWz6XlW.js";import"./app-logo-icon-B4G9A-R1.js";import"./circle-x-aYj-x7pv.js";import"./clsx-B-dksMZM.js";import"./folder-root-Cg6bcoJQ.js";import"./grip-vertical-B1q8A05K.js";import"./index-DkXnQgXy.js";import"./index-B2-8_I0g.js";function se({contractor:s,companies:x}){var o;const d=!!s,{data:r,setData:i,post:h,put:j,processing:n,errors:t,reset:c}=v({name:(s==null?void 0:s.name)||"",contact:(s==null?void 0:s.contact)||"",email:(s==null?void 0:s.email)||"",address:(s==null?void 0:s.address)||"",company_id:((o=s==null?void 0:s.company_id)==null?void 0:o.toString())||""}),u=a=>{a.preventDefault(),d?j(`/contractor/${s.id}`,{preserveScroll:!0,onSuccess:()=>c()}):h("/contractor",{onSuccess:()=>c()})},C=[{title:"Contractors",href:"/contractor"},{title:d?"Edit Contractor":"Add Contractor",href:"#"}];return e.jsxs(N,{breadcrumbs:C,children:[e.jsx(f,{title:d?"Edit Contractor":"Add Contractor"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(E,{children:[e.jsxs(A,{children:[e.jsx(_,{className:"text-2xl font-bold",children:d?"Edit Contractor":"Add Contractor"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d?"Edit contractor details":"Create a new contractor"})]}),e.jsx(S,{}),e.jsx(w,{className:"pt-6",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"company_id",children:"Company"}),e.jsxs(F,{value:r.company_id,onValueChange:a=>i("company_id",a),children:[e.jsx(L,{id:"company_id",children:e.jsx(B,{placeholder:"Select a company"})}),e.jsx(I,{children:x.map(a=>e.jsx($,{value:a.id.toString(),children:a.name},a.id))})]}),t.company_id&&e.jsx("p",{className:"text-sm text-red-500",children:t.company_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Contractor Name"}),e.jsx(m,{id:"name",value:r.name,onChange:a=>i("name",a.target.value),placeholder:"Enter contractor name"}),t.name&&e.jsx("p",{className:"text-sm text-red-500",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"contact",children:"Contact"}),e.jsx(m,{id:"contact",value:r.contact,onChange:a=>i("contact",a.target.value),placeholder:"Enter contact number"}),t.contact&&e.jsx("p",{className:"text-sm text-red-500",children:t.contact})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",value:r.email,onChange:a=>i("email",a.target.value),placeholder:"Enter email address"}),t.email&&e.jsx("p",{className:"text-sm text-red-500",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(m,{id:"address",value:r.address,onChange:a=>i("address",a.target.value),placeholder:"Enter address"}),t.address&&e.jsx("p",{className:"text-sm text-red-500",children:t.address})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(y,{href:"/contractor",children:e.jsxs(p,{type:"button",variant:"secondary",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(p,{type:"submit",disabled:n,children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),n?d?"Saving...":"Adding...":d?"Save Changes":"Add Contractor"]})]})]})})]})})]})}export{se as default};
