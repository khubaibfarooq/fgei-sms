import{r as n,j as e,S as x}from"./app-Cmws1I6H.js";import{D as f,a as g,b as S,c as j,d as F,e as v,t}from"./index-C55IgIYm.js";import{B as d}from"./button-BkfvgYYL.js";import{L as w}from"./label-BqMK9hU4.js";import{S as D,a as C,b,c as H,d as k}from"./select-CT1kD_g9.js";import"./index-DxEZuzwK.js";import"./createLucideIcon-BouZ-GEQ.js";import"./index-DY6OT_JB.js";import"./index-CpSjuTt3.js";import"./index-L7FGzSW8.js";import"./index-Dw6q9L2G.js";import"./index-CRkBWHM7.js";const O=({isOpen:o,onClose:i,project:s,fundHeads:c,onSuccess:h})=>{const[l,m]=n.useState(""),[r,u]=n.useState(!1),p=async()=>{if(!l){t.error("Please select a fund head.");return}s&&x.post(`/projects/${s.id}/select-head`,{fund_head_id:l},{onSuccess:()=>{t.success("Fund head selected successfully. Approval workflow initialized."),h(),i()},onError:a=>{console.error("Failed to select fund head",a),t.error("Failed to initialize approval workflow.")},onFinish:()=>u(!1)})};return e.jsx(f,{open:o,onOpenChange:a=>!a&&i(),children:e.jsxs(g,{className:"sm:max-w-[425px]",children:[e.jsxs(S,{children:[e.jsx(j,{children:"Select Fund Head"}),e.jsxs(F,{children:["Choose the fund head for project: ",e.jsx("strong",{children:s==null?void 0:s.name}),". This will initialize the approval workflow."]})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"fund_head",className:"text-right",children:"Fund Head"}),e.jsx("div",{className:"col-span-3",children:e.jsxs(D,{onValueChange:m,value:l,children:[e.jsx(C,{id:"fund_head",children:e.jsx(b,{placeholder:"Select a fund head"})}),e.jsx(H,{children:c.map(a=>e.jsx(k,{value:a.id.toString(),children:a.name},a.id))})]})})]})}),e.jsxs(v,{children:[e.jsx(d,{variant:"outline",onClick:i,disabled:r,children:"Cancel"}),e.jsx(d,{onClick:p,disabled:r,children:r?"Initializing...":"Confirm selection"})]})]})})};export{O as default};
