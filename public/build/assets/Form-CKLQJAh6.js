import{m as g,j as e,L as f,$ as S,S as d}from"./app-C9WfztRQ.js";import{A as v,S as c,a as N,f as w}from"./app-layout-CNt0W_av.js";import{B as p}from"./button-BE3Ce_uu.js";import{C as b,a as C,b as y,c as A}from"./card-V3z29RNA.js";import{I as x}from"./input-CSUp1zuz.js";import{L as o}from"./label-C68lnttW.js";import{S as P,a as G,b as E,c as L,d as F}from"./select-BMb4jG8_.js";import"./index-CHuj_ucu.js";import"./createLucideIcon-hOREz1eM.js";import"./index-CIbTaAjT.js";import"./index-PNEdSGI_.js";import"./index-Cv3LwmfU.js";import"./index-C9PI5Fkl.js";import"./index-DutATmo1.js";import"./app-logo-icon-Q1OROyQ7.js";import"./circle-x-C0CNvp1w.js";import"./clsx-B-dksMZM.js";import"./folder-root-DK_zX2zN.js";import"./grip-vertical-B_VOs2p8.js";import"./index-iPh0D4is.js";import"./index-BlxcDTth.js";function _({permission:a,groups:u=[]}){const r=!!a,{data:t,setData:n,processing:l,errors:m}=g({name:(a==null?void 0:a.name)||"",group:(a==null?void 0:a.group)||"",newGroup:""}),h=s=>{s.preventDefault();const i={name:t.name,group:t.newGroup.trim()!==""?t.newGroup.trim():t.group};r?d.put(`/permissions/${a==null?void 0:a.id}`,i):d.post("/permissions",i)},j=[{title:"Permission Management",href:"/permissions"},{title:r?"Edit Permission":"Add Permission",href:"#"}];return e.jsxs(v,{breadcrumbs:j,children:[e.jsx(f,{title:r?"Edit Permission":"Add Permission"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 max-w-xl mx-auto",children:e.jsxs(b,{children:[e.jsxs(C,{children:[e.jsx(y,{className:"text-2xl font-bold",children:r?"Edit Permission":"Add Permission"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Edit permission details":"Create a new permission"})]}),e.jsx(c,{}),e.jsx(A,{className:"pt-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Permission Name"}),e.jsx(x,{id:"name",placeholder:"example: manage-users",value:t.name,onChange:s=>n("name",s.target.value),className:m.name?"border-red-500":""}),m.name&&e.jsx("p",{className:"text-sm text-red-500",children:m.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"group",children:"Select Group"}),e.jsxs(P,{value:t.group||"",onValueChange:s=>n("group",s),children:[e.jsx(G,{children:e.jsx(E,{placeholder:"Select group..."})}),e.jsx(L,{children:u.map(s=>e.jsx(F,{value:s,children:s},s))})]}),m.group&&e.jsx("p",{className:"text-sm text-red-500",children:m.group})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"newGroup",children:"Or type a new group"}),e.jsx(x,{id:"newGroup",placeholder:"example: Tender / Article / User",value:t.newGroup,onChange:s=>n("newGroup",s.target.value)})]}),e.jsx(c,{}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx(S,{href:"/permissions",children:e.jsxs(p,{type:"button",variant:"secondary",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(p,{type:"submit",disabled:l,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),l?r?"Saving...":"Adding...":r?"Save Changes":"Add"]})]})]})})]})})]})}export{_ as default};
