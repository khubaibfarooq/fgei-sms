import{m as f,j as e,L as b,$ as v}from"./app-Dg5WdRgK.js";import{B as n}from"./button-DAOzjqRG.js";import{I as d}from"./input-BDdElqwe.js";import{L as i}from"./label-Bk3qix8Q.js";import{A as w,S as c}from"./app-layout-DGDjZ2Hc.js";import{C as g,a as C,b as S,c as U}from"./card-CMLo3GYq.js";import{S as y,a as E,b as k,c as F,d as L}from"./select-Cg9qmV4T.js";import"./index-9zRBa78h.js";import"./index-DvICnijN.js";import"./index-DSu21qKX.js";import"./createLucideIcon-9OMOkpOq.js";import"./index-DqFd_GfU.js";import"./index-BRNjptoS.js";import"./index-CzzzMIBQ.js";import"./app-logo-icon--XGJbLV8.js";import"./circle-x-DZQmnGTY.js";import"./folder-root-8MC_Eu77.js";import"./grip-vertical-BxWeWQCr.js";import"./index-CCrrLmiM.js";import"./index-V1-GaVWX.js";function Y({user:r,roles:p,currentRole:x}){const l=!!r,{data:t,setData:m,post:h,put:j,processing:o,errors:s}=f({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",password:"",role:x||""}),u=a=>{a.preventDefault(),l?j(`/users/${r==null?void 0:r.id}`):h("/users")},N=[{title:"User Management",href:"/users"},{title:l?"Edit User":"Create User",href:"#"}];return e.jsxs(w,{breadcrumbs:N,children:[e.jsx(b,{title:l?"Edit User":"Create User"}),e.jsx("div",{className:"flex-1 p-4 md:p-6",children:e.jsxs(g,{className:"max-w-3xl mx-auto",children:[e.jsxs(C,{className:"pb-3",children:[e.jsx(S,{className:"text-2xl font-bold tracking-tight",children:l?"Edit User":"Create New User"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l?"Update user data and role":"Enter user data and set role"})]}),e.jsx(c,{}),e.jsx(U,{className:"pt-5",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",className:"mb-2 block",children:"Name"}),e.jsx(d,{id:"name",placeholder:"Full name",value:t.name,onChange:a=>m("name",a.target.value),className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",className:"mb-2 block",children:"Email"}),e.jsx(d,{id:"email",placeholder:"Email address",value:t.email,onChange:a=>m("email",a.target.value),className:s.email?"border-red-500":""}),s.email&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.email})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"password",className:"mb-2 block",children:["Password ",l?"(Optional)":""]}),e.jsx(d,{id:"password",type:"password",placeholder:"••••••••",value:t.password,onChange:a=>m("password",a.target.value),className:s.password?"border-red-500":""}),s.password&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.password})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"role",className:"mb-2 block",children:"Role"}),e.jsxs(y,{value:t.role,onValueChange:a=>m("role",a),children:[e.jsx(E,{children:e.jsx(k,{placeholder:"Select role"})}),e.jsx(F,{children:p.map(a=>e.jsx(L,{value:a.name,children:a.name},a.id))})]}),s.role&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.role})]})]}),e.jsx(c,{}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-2",children:[e.jsx(v,{href:"/users",className:"w-full sm:w-auto",children:e.jsx(n,{type:"button",variant:"secondary",className:"w-full",children:"Back"})}),e.jsx(n,{type:"submit",disabled:o,className:"w-full sm:w-auto",children:o?e.jsx("span",{className:"animate-pulse",children:"Saving..."}):l?"Save Changes":"Create User"})]})]})})]})})]})}export{Y as default};
