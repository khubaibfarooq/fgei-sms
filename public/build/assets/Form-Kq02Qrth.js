import{R as j,m as b,j as e,L as S,$ as v,S as l}from"./app-B7da35A_.js";import{A as f,S as g,b as y,c as F}from"./app-layout-B_L8SOGw.js";import{B as c}from"./button-Cs4e_wWK.js";import{C as N,a as _,b as A,c as C}from"./card-B3iwko6q.js";import{I as w}from"./index-DD5X2bu9.js";import{L as o}from"./label-1S2bmoxD.js";import{S as E,a as L,b as I,c as B,d as R}from"./select-BJ8xJxpu.js";import"./index-DFIHmitQ.js";import"./createLucideIcon-DBBZeDIW.js";import"./index-D1ps3vqM.js";import"./app-logo-icon-Lo_oZDmO.js";import"./index-kHFEbFvY.js";import"./index-DcJiYH7i.js";function Q({fund:s,fundHeads:r}){const t=!!s,m=j.useMemo(()=>r?Array.isArray(r)?r:Object.entries(r).map(([a,x])=>({id:parseInt(a),name:x})):[],[r]),{data:i,setData:d,processing:n,reset:p}=b({balance:(s==null?void 0:s.balance)||0,institute_id:(s==null?void 0:s.institute_id)||0,fund_head_id:(s==null?void 0:s.fund_head_id)||0}),u=a=>{a.preventDefault(),t?l.put(`/funds/${s.id}`,i,{preserveScroll:!0,preserveState:!0}):l.post("/funds",i,{onSuccess:()=>{p()}})},h=[{title:"Funds",href:"/funds"},{title:t?"Edit Fund":"Add Fund",href:"#"}];return e.jsxs(f,{breadcrumbs:h,children:[e.jsx(S,{title:t?"Edit Fund":"Add Fund"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(N,{children:[e.jsxs(_,{children:[e.jsx(A,{className:"text-2xl font-bold",children:t?"Edit Fund":"Add Fund"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Edit fund details":"Create a new fund"})]}),e.jsx(g,{}),e.jsx(C,{className:"pt-6",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"balance",children:"balance"}),e.jsx(w,{id:"balance",type:"number",value:i.balance,onChange:a=>d("balance",Number(a.target.value)),placeholder:"Enter balance"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"fund_head_id",children:"Fund Type"}),e.jsxs(E,{value:i.fund_head_id.toString(),onValueChange:a=>d("fund_head_id",parseInt(a)),children:[e.jsx(L,{children:e.jsx(I,{placeholder:"Select fund type"})}),e.jsx(B,{children:m.map(a=>e.jsx(R,{value:a.id.toString(),children:a.name},a.id))})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(v,{href:"/funds",children:e.jsxs(c,{type:"button",variant:"secondary",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(c,{type:"submit",disabled:n,children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),n?t?"Saving...":"Adding...":t?"Save Changes":"Add Fund"]})]})]})})]})})]})}export{Q as default};
