import{b as _,m as F,j as e,L as N,$ as C,S as p}from"./app-B46_l_q8.js";import{A,S as E,a as f,j as w}from"./app-layout-T0sxPbjh.js";import{B as m}from"./button-C6zOegmK.js";import{C as T,a as I,b as L,c as B}from"./card-D2kKs31t.js";import{I as D}from"./input-BTQSOq3W.js";import{L as c}from"./label-DqBS4Aic.js";import{T as V}from"./textarea-B5aNfyrB.js";import{S as h,a as x,b as j,c as u,d as l}from"./select-B1UXNqME.js";import"./index-Drs4ErAY.js";import"./createLucideIcon-D-a9m3lV.js";import"./index-6oo9y-xY.js";import"./app-logo-icon-CzD0sK1n.js";import"./folder-root-0JZMwjdX.js";import"./grip-vertical-Cu7PQlO6.js";import"./index-f3jYrNB6.js";import"./index-Bc4qgyME.js";function Z({fund:s,fundHeads:i}){const r=!!s,v=_.useMemo(()=>i?Array.isArray(i)?i:Object.entries(i).map(([t,g])=>({id:parseInt(t),name:g})):[],[i]),{data:a,setData:n,processing:d,errors:o,reset:b}=F({balance:(s==null?void 0:s.balance)||0,institute_id:(s==null?void 0:s.institute_id)||0,fund_head_id:(s==null?void 0:s.fund_head_id)||0,description:(s==null?void 0:s.description)||"",transaction_type:(s==null?void 0:s.transaction_type)||""}),y=t=>{t.preventDefault(),r?p.put(`/funds/${s.id}`,a,{preserveScroll:!0,preserveState:!0}):p.post("/funds",a,{onSuccess:()=>{b()}})},S=[{title:"Funds",href:"/funds"},{title:r?"Edit Fund":"Add Fund",href:"#"}];return e.jsxs(A,{breadcrumbs:S,children:[e.jsx(N,{title:r?"Edit Fund":"Add Fund"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 w-[70vw] mx-auto",children:e.jsxs(T,{children:[e.jsxs(I,{children:[e.jsx(L,{className:"text-2xl font-bold",children:r?"Edit Fund":"Add Fund"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Edit fund details":"Create a new fund"})]}),e.jsx(E,{}),e.jsx(B,{className:"pt-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"balance",children:"balance"}),e.jsx(D,{id:"balance",type:"number",value:a.balance,onChange:t=>n("balance",Number(t.target.value)),placeholder:"Enter balance"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fund_head_id",children:"Fund Type"}),e.jsxs(h,{value:a.fund_head_id.toString(),onValueChange:t=>n("fund_head_id",parseInt(t)),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select fund type"})}),e.jsx(u,{children:v.map(t=>e.jsx(l,{value:t.id.toString(),children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(V,{id:"description",value:a.description,onChange:t=>n("description",t.target.value),placeholder:"Enter description",rows:4}),o.description&&e.jsx("p",{className:"text-sm text-destructive",children:o.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fund_head_id",children:"Transaction Type"}),e.jsxs(h,{required:!0,value:a.transaction_type||"",onValueChange:t=>n("transaction_type",t),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select transaction type"})}),e.jsxs(u,{children:[e.jsx(l,{value:"in",children:"Income"}),e.jsx(l,{value:"out",children:"Expense"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(C,{href:"/funds",children:e.jsxs(m,{type:"button",variant:"secondary",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs(m,{type:"submit",disabled:d,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),d?r?"Saving...":"Adding...":r?"Save Changes":"Add Fund"]})]})]})})]})})]})}export{Z as default};
