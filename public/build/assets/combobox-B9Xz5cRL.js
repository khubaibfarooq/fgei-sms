import{r as v,j as e}from"./app-CsQ7B3yh.js";import{P,a as g,b as y,_ as E,S as $,C as I,I as M,E as O,h as m}from"./popover-zqiJhxtw.js";import{B as k,c as u}from"./button-B9wrFh55.js";import{aT as B}from"./app-layout-Bi9jV5W-.js";import{C as d}from"./index-Bc45MLhI.js";function _({entity:o,value:r,onChange:t,options:n,placeholder:h,notFoundMessage:f,includeAllOption:l=!1,allOptionLabel:p=`All ${o}s`}){const[c,a]=v.useState(!1),x={institute:"Select Institute",permission:"Select permissions",role:"Select roles",user:"Select users",menu:"Select menus"},j={institute:"No institutes available",permission:"Permission not found",role:"Role not found",user:"User not found",menu:"Menu not found"},w=h||x[o]||`Select ${o}s`,b=f||j[o]||`${o} not found`,S=`Search ${o}...`,i=n.find(s=>s.id===r),C=(s,N)=>s==="0"&&l||s.toLowerCase().includes(N.toLowerCase())?1:0;return e.jsxs(P,{open:c,onOpenChange:a,children:[e.jsx(g,{asChild:!0,children:e.jsxs(k,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[r&&i?i.name:w,e.jsx(B,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(y,{className:"w-full ps-2 max-h-60 overflow-y-auto",children:e.jsxs(E,{filter:C,className:"w-full",children:[e.jsx($,{placeholder:S,className:"w-full h-10 px-3 text-sm border-b"}),e.jsxs(I,{children:[e.jsx(M,{children:b}),e.jsxs(O,{children:[l&&e.jsxs(m,{className:"hover:bg-gray-200",value:"0",onSelect:()=>{t("0"),a(!1)},children:[e.jsx(d,{className:u("mr-2 h-4 w-4",r==="0"?"opacity-100":"opacity-0")}),p]}),n.map(s=>e.jsxs(m,{className:"hover:bg-primary/80 hover:text-white  my-1 flex flex-row",value:s.name,onSelect:()=>{t(s.id),a(!1)},children:[e.jsx(d,{className:u("mr-2 mt-1 h-4 w-4",r===s.id?"opacity-100":"opacity-0")})," ",s.name]},s.id))]})]})]})})]})}export{_ as C};
