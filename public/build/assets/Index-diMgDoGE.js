import{r as l,j as e,L as $e}from"./app-C9WfztRQ.js";import{A as qe,S as Ve}from"./app-layout-CNt0W_av.js";import{B as H}from"./button-BE3Ce_uu.js";import{C as Me,a as He,b as Ue,c as Ye}from"./card-V3z29RNA.js";import{L as U}from"./label-C68lnttW.js";import{I as D}from"./image-preview-DQPz7N2e.js";import{C as ae}from"./combobox-BIoQ7wiN.js";import{f as Y}from"./dateFormatter-Cn65gwBN.js";import{E as Ge,F as Je,a as Qe,b as Ke}from"./jspdf.plugin.autotable-Cv2tKiuc.js";import{t as G}from"./index-DutATmo1.js";import"./index-CHuj_ucu.js";import"./createLucideIcon-hOREz1eM.js";import"./index-CIbTaAjT.js";import"./index-PNEdSGI_.js";import"./index-Cv3LwmfU.js";import"./index-C9PI5Fkl.js";import"./input-CSUp1zuz.js";import"./app-logo-icon-Q1OROyQ7.js";import"./circle-x-C0CNvp1w.js";import"./clsx-B-dksMZM.js";import"./folder-root-DK_zX2zN.js";import"./grip-vertical-B_VOs2p8.js";import"./popover-26mO5ywa.js";const Xe=[{title:"Institutional Report",href:"/reports/institutes"}],re=g=>{const P=g!=null&&typeof g.id=="number"&&g.id>0&&typeof g.name=="string"&&g.name.trim()!=="";return P||console.warn("Invalid item detected:",g),P};function vt({institute:g=null,institutes:P=[],regions:oe=[],blocks:de=[],instituteAssets:ne=[],rooms:ie=[],shifts:le=[],upgradations:ce=[],funds:xe=[],projects:me=[],transports:he=[],filters:T={search:"",institute_id:"",region_id:""}}){const[ge,Ze]=l.useState(T.search||""),[_,J]=l.useState(T.institute_id||""),[d,pe]=l.useState(g);console.log("fetchedinstitute",d);const[Q,ue]=l.useState(T.region_id||""),[K,X]=l.useState(P),[Z,et]=l.useState(oe),[p,ye]=l.useState(de),[j,fe]=l.useState(ne),[u,be]=l.useState(ie),[N,je]=l.useState(le),[k,Ne]=l.useState(ce),[B,ke]=l.useState(!1),[L,we]=l.useState(!1),[E,ve]=l.useState(!1),[W,Se]=l.useState(!1),[z,Ie]=l.useState(!1),[O,_e]=l.useState(!1),[y,Ce]=l.useState(xe),[w,Fe]=l.useState(me),[$,Pe]=l.useState(!1),[v,Re]=l.useState(he),[q,Ae]=l.useState(!1),V=t=>{const s=typeof t=="number"?t:parseFloat(String(t).replace(/,/g,""))||0;return s>=1e6?`${(s/1e6).toFixed(2)} Mn`:new Intl.NumberFormat("ur-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)},De=l.useMemo(()=>K.filter(re),[K]),M=l.useMemo(()=>Z.filter(re),[Z]);console.log(M);const Te=async t=>{try{const s=new URLSearchParams(t).toString(),m=await fetch(`/reports/institutes/getData?${s}`);if(!m.ok)throw new Error("Failed to fetch data");const c=await m.json();pe(c.institute||[]),console.log(d),ye(c.blocks||[]),fe(c.instituteAssets||[]),console.log(c.instituteAssets),be(c.rooms||[]),je(c.shifts||[]),Ne(c.upgradations||[]),Ce(c.funds||[]),console.log(c.projects),Fe(c.projects||[]),Re(c.transports||[])}catch(s){console.error("Error fetching data:",s),G.error("Failed to load data")}},Be=t=>{J(t),Te({search:ge,institute_id:t,region_id:Q})},Le=async t=>{try{const s=new URLSearchParams({region_id:t||""}).toString(),m=await fetch(`/reports/getInstitutes?${s}`);if(!m.ok)throw new Error("Failed to fetch institutes");const c=await m.json();console.log("Fetched institutes:",c),X(c),_&&t!=="0"&&!c.some(b=>b.id.toString()===_)&&J("")}catch(s){console.error("Error fetching institutes:",s),G.error("Failed to load institutes"),X([])}},Ee=async t=>{ue(t),Le(t)},We=async()=>{const t=new Ge.Workbook,s=t.addWorksheet("Shifts");s.columns=[{header:"Name",key:"name",width:20},{header:"Building Name",key:"building_name",width:20},{header:"Building Type",key:"building_type",width:20}],N.forEach(r=>{var x;s.addRow({name:r.name,building_name:r.building_name,building_type:((x=r.building_type)==null?void 0:x.name)||"N/A"})});const m=t.addWorksheet("Blocks");m.columns=[{header:"Name",key:"name",width:20},{header:"Area (sq ft)",key:"area",width:15}],p.forEach(r=>{m.addRow({name:r.name,area:r.area})});const c=t.addWorksheet("Rooms");c.columns=[{header:"Name",key:"name",width:20},{header:"Area (sq ft)",key:"area",width:15},{header:"Block",key:"block",width:20}],u.forEach(r=>{var x;c.addRow({name:r.name,area:r.area,block:((x=r.block)==null?void 0:x.name)||"N/A"})});const b=t.addWorksheet("Assets");b.columns=[{header:"Asset",key:"asset",width:20},{header:"Quantity",key:"qty",width:10},{header:"Rooms",key:"locations",width:20}],j.forEach(r=>{var x;b.addRow({asset:((x=r.asset)==null?void 0:x.name)||"N/A",qty:r.total_qty,locations:r.locations_count})});const C=t.addWorksheet("Funds");C.columns=[{header:"Fund Head",key:"Fundhead",width:30},{header:"Balance",key:"balance",width:15}],y.forEach(r=>{var x;C.addRow({Fundhead:(x=r.fund_head)==null?void 0:x.name,balance:r.balance})});const o=t.addWorksheet("Upgradations");o.columns=[{header:"Details",key:"details",width:30},{header:"Date From",key:"from",width:15},{header:"Date To",key:"to",width:15},{header:"Level From",key:"levelfrom",width:15},{header:"Level To",key:"levelto",width:15},{header:"Status",key:"status",width:15}],k.forEach(r=>{o.addRow({details:r.details,from:r.from,to:r.to,levelfrom:r.levelfrom,levelto:r.levelto,status:r.status})});const n=t.addWorksheet("Projects");n.columns=[{header:"Project Type",key:"projecttype",width:30},{header:"Completed",key:"completed",width:15},{header:"In  Progress",key:"inprogress",width:15},{header:"Planned",key:"planned",width:15}],w.forEach(r=>{n.addRow({projecttype:r.name,completed:r.completed,inprogress:r.inprogress,planned:r.planned})});const a=t.addWorksheet("Transports");a.columns=[{header:"Vehicle No",key:"vehicle_no",width:20},{header:"Vehicle Type",key:"vehicle_type",width:20}],v.forEach(r=>{var x;a.addRow({vehicle_no:r.vehicle_no,vehicle_type:((x=r.vehicle_type)==null?void 0:x.name)||"N/A"})});const i=await t.xlsx.writeBuffer(),h=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Je.saveAs(h,"Institutional_Report.xlsx")},ze=async()=>{const t=new Qe;let s=20;const m=(o,n,a)=>{t.setFontSize(14),t.text(o,14,s),Ke(t,{head:[n],body:a,startY:s+3,styles:{fontSize:10},headStyles:{fillColor:[11,67,27]}}),s=t.lastAutoTable.finalY+8,s>t.internal.pageSize.height-50&&(t.addPage(),s=20)},c=o=>new Promise((n,a)=>{const i=new Image;i.crossOrigin="Anonymous",i.src=o,i.onload=()=>{const h=document.createElement("canvas");h.width=i.width,h.height=i.height;const r=h.getContext("2d");r?(r.drawImage(i,0,0),n(h.toDataURL("image/jpeg"))):a(new Error("Canvas context not available"))},i.onerror=h=>a(h)}),b=async(o,n)=>{try{s>t.internal.pageSize.height-60&&(t.addPage(),s=20),t.setFontSize(16),t.text(o,14,s),s+=10;const a=await c(`/assets/${n}`),i=t.getImageProperties(a),h=t.internal.pageSize.getWidth()-28,r=i.height*h/i.width;s+r>t.internal.pageSize.height-20&&(t.addPage(),s=20,t.setFontSize(16),t.text(o,14,s),s+=10),t.addImage(a,"JPEG",14,s,h,r),s+=r+10}catch(a){console.error(`Failed to load image for ${o}:`,a)}},C=async(o,n)=>{const a=n.filter(S=>S.img);if(a.length===0)return;s>t.internal.pageSize.height-40&&(t.addPage(),s=20),t.setFontSize(16),t.text(o,14,s),s+=10;const i=t.internal.pageSize.getWidth(),h=14,r=5,x=(i-h*2-r*2)/3;for(let S=0;S<a.length;S+=3){const Oe=a.slice(S,S+3);let R=0;const ee=[];for(const f of Oe){let F=null,I=0;try{F=await c(`/assets/${f.img}`);const A=t.getImageProperties(F);I=A.height*x/A.width}catch(A){console.error(`Failed to load image for ${f.name}:`,A)}const se=I+10;se>R&&(R=se),ee.push({imgData:F,height:I,name:f.name})}s+R>t.internal.pageSize.height-20&&(t.addPage(),s=20),ee.forEach((f,F)=>{const I=h+F*(x+r);t.setFontSize(10);const te=t.splitTextToSize(f.name,x);t.text(te,I,s+5),f.imgData&&t.addImage(f.imgData,"JPEG",I,s+10,x,f.height)}),s+=R+10}s+=10};if(t.setFontSize(16),t.text("Institutional Report",14,15),s=25,N.length>0){const o=["Name","Building Name","Building Type"],n=N.map(a=>{var i;return[a.name,a.building_name,((i=a.building_type)==null?void 0:i.name)||"N/A"]});m("Shifts",o,n)}if(p.length>0){const o=["Name","Area (sq ft)"],n=p.map(a=>[a.name,a.area]);m("Blocks",o,n)}if(u.length>0){const o=["Name","Area (sq ft)","Block"],n=u.map(a=>{var i;return[a.name,a.area,((i=a.block)==null?void 0:i.name)||"N/A"]});m("Rooms",o,n)}if(j.length>0){const o=["Asset Name","Quantity","Rooms"],n=j.map(a=>[a.name,a.total_qty.toString(),a.locations_count.toString()]);m("Institute Assets",o,n)}if(y.length>0){const o=["Fund Head","Balance"],n=y.map(a=>{var i;return[(i=a.fund_head)==null?void 0:i.name,a.balance]});m("Institute Funds",o,n)}if(k.length>0){const o=["Details","Date From","Date To","Level From","Level To","Status"],n=k.map(a=>[a.details,a.from,a.to,a.levelfrom,a.levelto,a.status]);m("Institute Upgradations",o,n)}if(w.length>0){const o=["Project Type","Completed","In Progress","Planned"],n=w.map(a=>[a.name,a.completed,a.inprogress,a.planned]);m("Institute Projects",o,n)}if(v.length>0){const o=["Vehicle No","Vehicle Type"],n=v.map(a=>{var i;return[a.vehicle_no,((i=a.vehicle_type)==null?void 0:i.name)||"N/A"]});m("Institute Transports",o,n)}d!=null&&d.img_layout&&await b("Institute Layout",d.img_layout),d!=null&&d.img_3d&&await b("Institute Front View",d.img_3d),await C("Blocks Images",p),await C("Rooms Images",u),t.save("Institutional_Report.pdf")};return e.jsxs(qe,{breadcrumbs:Xe,children:[e.jsx($e,{title:"Institutional Report"}),e.jsxs("div",{className:"flex-1 p-2 ",children:[e.jsxs(Me,{children:[e.jsxs(He,{className:"pb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:["          ",e.jsx(Ue,{children:"Institutional Report"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:()=>{_?window.location.href=route("sso.redirect.institution-profile",{institution_id:_}):G.error("Please select an institute first")},className:"w-full md:w-auto",children:"Institution Profile"}),e.jsx(H,{onClick:ze,className:"w-full md:w-auto",children:"Export PDF"}),e.jsx(H,{onClick:We,className:"w-full md:w-auto",children:"Export Excel"})]})]}),e.jsx(Ve,{}),e.jsx(Ye,{className:"py-3 space-y-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[M.length>0&&e.jsx(ae,{entity:"region",value:Q,onChange:t=>Ee(t),options:M.map(t=>({id:t.id.toString(),name:t.name.split(" ").pop()||t.name})),includeAllOption:!0}),e.jsx(ae,{entity:"institute",value:_,onChange:t=>Be(t),options:De.map(t=>({id:t.id.toString(),name:t.name})),includeAllOption:!0})]})}),d&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-x-4 gap-y-2 bg-muted/20 p-2 rounded-md border text-xs md:text-sm mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wide",children:"Est. Date"}),e.jsx("p",{className:"font-medium",children:d.established_date||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wide",children:"Total Area"}),e.jsx("p",{className:"font-medium",children:d.total_area||"0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wide",children:"Covered Area"}),e.jsx("p",{className:"font-medium",children:d.convered_area||"0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wide",children:"Blocks"}),e.jsx("p",{className:"font-medium",children:p.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wide",children:"Rooms"}),e.jsx("p",{className:"font-medium",children:u.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wide",children:"Total Funds"}),e.jsxs("p",{className:"font-medium",children:["  ",V(y.reduce((t,s)=>t+(typeof s.balance=="number"?s.balance:parseFloat(String(s.balance).replace(/,/g,""))||0),0))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Current Layout Image"}),d!=null&&d.img_layout?e.jsx(D,{dataImg:`${d.img_layout}`,className:"w-full h-40 object-cover rounded"}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No layout image uploaded."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Current Front View Image"}),d!=null&&d.img_3d?e.jsx(D,{dataImg:`${d.img_3d}`,className:"w-full h-40 object-cover rounded"}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No Font View image uploaded."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Current Video"}),d!=null&&d.video?e.jsxs("video",{controls:!0,className:"w-full h-40 rounded",children:[e.jsx("source",{src:`/assets/${d.video}`,type:"video/mp4"}),"Your browser does not support the video tag."]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No video uploaded."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 my-1 gap-2",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:`w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800 

  `,onClick:()=>ke(!B),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Shifts(",N.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${B?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),B&&e.jsx("div",{className:"p-2 border-t",children:N.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Building Name"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Building Type"})]})}),e.jsx("tbody",{children:N.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.building_name}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:(s=t.building_type)==null?void 0:s.name})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No shifts available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>we(!L),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Blocks(",p.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${L?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&e.jsx("div",{className:"p-2 border-t",children:p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Area (sq ft)"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Establish Date"})]})}),e.jsx("tbody",{children:p.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsxs("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:["  ",e.jsxs("div",{className:"flex flex-column gap-2 align-middle",children:[" ",e.jsx(D,{dataImg:t.img,size:"h-20 w-20 object-contain"}),"  ",e.jsx("span",{className:"font-bold",children:t.name})]})," "]}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.area}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:Y(t.establish_date)})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No blocks available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 my-1  gap-2",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>ve(!E),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Rooms(",u.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&e.jsx("div",{className:"p-2 border-t",children:u.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Block"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Area (sq ft)"})]})}),e.jsx("tbody",{children:u.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:(s=t.block)==null?void 0:s.name}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:e.jsxs("div",{className:"flex flex-column gap-2 align-middle",children:[" ",e.jsx(D,{dataImg:t.img,size:"h-20 w-20 object-contain"}),"  ",e.jsx("span",{className:"font-bold",children:t.name})]})}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.area})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No rooms available"})})]}),e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Se(!W),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Institute Assets(",j.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${W?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),W&&e.jsx("div",{className:"p-2 border-t",children:j.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Asset Name"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Total Quantity"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Rooms"})]})}),e.jsx("tbody",{children:j.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 font-bold dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border px-2 py-1 text-xs text-green-700 font-bold dark:text-gray-100",children:t.total_qty}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.locations_count})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No assets available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 my-1  md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Ie(!z),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Institute Upgradations(",k.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),z&&e.jsx("div",{className:"p-2 border-t",children:k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Details"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Date from"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Date to"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Level From"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Level To"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Status"})]})}),e.jsx("tbody",{children:k.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.details}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:Y(t.from)}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:Y(t.to)}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.levelfrom}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.levelto}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.status})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No upgradations available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Pe(!$),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Institute Projects(",w.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${$?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),$&&e.jsx("div",{className:"p-2 border-t",children:w.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Project Type"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Completed"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"In Progress"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Planned"})]})}),e.jsx("tbody",{children:w.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.completed}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.inprogress}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:t.planned})]}))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Fund available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 my-1  md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>_e(!O),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Institute Funds(",y.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${O?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),O&&e.jsx("div",{className:"p-2 border-t",children:y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Fund Head"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Balance"})]})}),e.jsxs("tbody",{children:[y.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:(s=t.fund_head)==null?void 0:s.name}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100 font-bold",children:V(t.balance)})]},t.id)}),e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 font-bold dark:text-gray-100",children:"Total"}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 font-bold dark:text-gray-100",children:V(y.reduce((t,s)=>Number(t)+Number(s.balance),0))})]})]})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Fund available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/100",children:[e.jsxs("button",{className:"w-full p-2 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Ae(!q),children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Institute Transports(",v.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${q?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),q&&e.jsx("div",{className:"p-2 border-t",children:v.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary dark:bg-gray-800",children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Vehicle No"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-white dark:text-gray-200",children:"Vehicle Type"})]})}),e.jsx("tbody",{children:v.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 font-bold dark:text-gray-100",children:t.vehicle_no}),e.jsx("td",{className:"border px-2 py-1 text-xs text-gray-900 dark:text-gray-100",children:(s=t.vehicle_type)==null?void 0:s.name})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Transport available"})})]})]})]})]})}export{vt as default};
