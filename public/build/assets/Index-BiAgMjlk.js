import{j as e,L as u,$ as g,S as r}from"./app-s9Ys-83B.js";import{A as j,a8 as d,T as f}from"./app-layout-Dl5b17fo.js";import{B as l,c as n}from"./button-C1aQrSo0.js";import{C as b,a as N,b as y,c as w}from"./card-CWhiPpln.js";import{C as c}from"./index-BFx4lFZR.js";import"./input-8QWDJaP5.js";import"./index-D1WageoA.js";import"./createLucideIcon-D7VEPPZz.js";import"./app-logo-icon-yJBK5FVr.js";import"./folder-root-ysFkiTf2.js";import"./grip-vertical-DscpApal.js";function O({notifications:t}){const o=[{title:"Dashboard",href:"/dashboard"},{title:"Notifications",href:"/notifications"}],i=async a=>{var s;await fetch(`/notifications/${a}/read`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}}),r.reload()},m=async()=>{var a;await fetch("/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""}}),r.reload()},x=async a=>{var s;await fetch(`/notifications/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}}),r.reload()},h=a=>{switch(a){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-950/20";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950/20";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-950/20";default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-950/20"}},p=a=>new Date(a).toLocaleString();return e.jsxs(j,{breadcrumbs:o,children:[e.jsx(u,{title:"Notifications"}),e.jsx("div",{className:"flex-1 p-4 md:p-6 max-w-4xl mx-auto",children:e.jsxs(b,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"h-6 w-6"}),e.jsx(y,{className:"text-2xl font-bold",children:"Notifications"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(l,{variant:"outline",onClick:m,children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),"Mark all as read"]})})]}),e.jsxs(w,{className:"space-y-3",children:[t.data.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"No notifications yet"})]}):t.data.map(a=>e.jsxs("div",{className:n("p-4 rounded-lg border-l-4 flex items-start justify-between gap-4",h(a.type),!a.is_read&&"ring-1 ring-primary/20"),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:a.title}),!a.is_read&&e.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:p(a.created_at)})]}),e.jsxs("div",{className:"flex gap-1",children:[!a.is_read&&e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>i(a.id),title:"Mark as read",children:e.jsx(c,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>x(a.id),className:"text-destructive hover:text-destructive",title:"Delete",children:e.jsx(f,{className:"h-4 w-4"})})]})]},a.id)),t.last_page>1&&e.jsx("div",{className:"flex justify-center gap-2 pt-4",children:Array.from({length:t.last_page},(a,s)=>s+1).map(a=>e.jsx(g,{href:`/notifications?page=${a}`,className:n("px-3 py-1 rounded",a===t.current_page?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:a},a))})]})]})})]})}export{O as default};
