import{r as m,j as e,L as p,$ as i,S as l}from"./app-BXWdbT3W.js";import{A as j,P as u,S as f,a as b,T as g,t as o}from"./app-layout-Doi0KVTf.js";import{B as t}from"./button-BFkT9mtK.js";import{C as N,a as v,b as D,c as C}from"./card-BDnz_o05.js";import{I as y}from"./input-CCK7i7iJ.js";import{A,a as S,b as w,c as T,d as E,e as L,f as k,g as B,h as R}from"./alert-dialog-rX6yxw8T.js";import{B as $}from"./badge-BBzmircZ.js";import"./index-BXO_TbJ_.js";import"./createLucideIcon-Cy-08o9H.js";import"./index-DQwmPEEX.js";import"./app-logo-icon-C8DOsSBs.js";import"./folder-root-C0viIaEW.js";import"./grip-vertical-DlxMNeB8.js";const z=[{title:"Dashboard Cards",href:"/dashboardcards"}];function U({dashboardCards:r,filters:c}){const[d,n]=m.useState(c.search||""),h=s=>{s.key==="Enter"&&l.get("/dashboardcards",{search:d},{preserveState:!0,preserveScroll:!0})},x=s=>{l.delete(`/dashboardcards/${s}`,{onSuccess:()=>o.success("Dashboard Card deleted successfully"),onError:()=>o.error("Failed to delete Dashboard Card")})};return e.jsxs(j,{breadcrumbs:z,children:[e.jsx(p,{title:"Dashboard Cards"}),e.jsx("div",{className:"flex-1 p-2 md:p-3",children:e.jsxs(N,{children:[e.jsxs(v,{className:"pb-3 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{className:"text-2xl font-bold",children:"Dashboard Cards"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage Dashboard Cards & Role Access"})]}),e.jsx(i,{href:"/dashboardcards/create",children:e.jsxs(t,{children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Add New Card"]})})]}),e.jsx(f,{}),e.jsxs(C,{className:"pt-6 space-y-6",children:[e.jsx(y,{type:"text",placeholder:"Search cards by title... (press Enter)",value:d,onChange:s=>n(s.target.value),onKeyDown:h,className:"max-w-sm"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary text-white",children:[e.jsx("th",{className:"border p-3 text-left font-medium",children:"Title"}),e.jsx("th",{className:"border p-3 text-left font-medium",children:"Visible to Roles"}),e.jsx("th",{className:"border p-3 text-left font-medium",children:"Link"}),e.jsx("th",{className:"border p-3 text-left font-medium",children:"Redirect Link"}),e.jsx("th",{className:"border p-3 text-left font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:r.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No dashboard cards found."})}):r.data.map(s=>e.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[e.jsx("td",{className:"border p-3 font-medium",children:s.title}),e.jsx("td",{className:"border p-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.roles&&s.roles.length>0?s.roles.map(a=>e.jsx($,{variant:"secondary",children:a.name},a.id)):e.jsx("span",{className:"text-muted-foreground text-xs",children:"No roles assigned"})})}),e.jsx("td",{className:"border p-3",children:e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:s.link})}),e.jsx("td",{className:"border p-3",children:e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:s.redirectlink})}),e.jsx("td",{className:"border p-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(i,{href:`/dashboardcards/${s.id}/edit`,children:e.jsx(t,{variant:"ghost",size:"icon",title:"Edit",children:e.jsx(b,{className:"h-4 w-4"})})}),e.jsxs(A,{children:[e.jsx(S,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"text-destructive hover:text-red-600",children:e.jsx(g,{className:"h-4 w-4"})})}),e.jsxs(w,{children:[e.jsxs(T,{children:[e.jsx(E,{children:"Delete Dashboard Card?"}),e.jsxs(L,{children:["This will permanently delete ",e.jsx("strong",{children:s.title}),". This action cannot be undone."]})]}),e.jsxs(k,{children:[e.jsx(B,{children:"Cancel"}),e.jsx(R,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>x(s.id),children:"Delete"})]})]})]})]})})]},s.id))})]})}),r.links.length>3&&e.jsx("div",{className:"flex justify-center pt-6 flex-wrap gap-2",children:r.links.map((s,a)=>e.jsx(t,{disabled:!s.url,variant:s.active?"default":"outline",size:"sm",onClick:()=>s.url&&l.visit(s.url,{preserveScroll:!0}),children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},a))})]})]})})]})}export{U as default};
