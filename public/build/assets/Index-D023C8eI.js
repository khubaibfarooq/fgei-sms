import{r as j,j as e,L as g,$ as c,S as t}from"./app-B9V5rr7j.js";import{A as f,P as v,S,k as A,T as N,t as o}from"./app-layout-5TCOfq4j.js";import{B as l}from"./button-BtPpi4fK.js";import{C as b,a as C,b as y,c as D}from"./card-CaaPFfqi.js";import{I as _}from"./input-WTI-X1b9.js";import{S as w,a as L,b as P,c as T,d}from"./select-B7Mr1OTp.js";import{A as E,a as I,b as M,c as $,d as k,e as z,f as G,g as H,h as V}from"./alert-dialog-AjBn9h27.js";import"./index-GHrU7EiK.js";import"./createLucideIcon-80nVlvSa.js";import"./index--Y7kMO8T.js";import"./app-logo-icon-CEBAw89K.js";import"./folder-root-B0ShzRSE.js";import"./grip-vertical-xuLl6iYf.js";import"./index-DlJ6EJ4U.js";import"./index-CVfa62Fz.js";const B=[{title:"Permission Management",href:"/permissions"}];function ae({permissions:r,groups:m,filters:a}){const[n,x]=j.useState(a.search||""),h=s=>{t.delete(`/permissions/${s}`,{onSuccess:()=>o.success("Permission deleted successfully"),onError:()=>o.error("Failed to delete permission")})},p=s=>{const i=s==="__ALL__"?"":s;t.get("/permissions",{...a,group:i},{preserveScroll:!0})},u=s=>{s.key==="Enter"&&t.get("/permissions",{...a,search:n},{preserveScroll:!0})};return e.jsxs(f,{breadcrumbs:B,children:[e.jsx(g,{title:"Permission Management"}),e.jsx("div",{className:"flex-1 p-4 md:p-6",children:e.jsxs(b,{children:[e.jsxs(C,{className:"pb-3 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(y,{className:"text-2xl font-bold",children:"Permissions"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage system access permissions"})]}),e.jsx(c,{href:"/permissions/create",children:e.jsxs(l,{children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Add Permission"]})})]}),e.jsx(S,{}),e.jsxs(D,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsx(_,{type:"text",placeholder:"Search permissions... (press Enter)",value:n,onChange:s=>x(s.target.value),onKeyDown:u}),e.jsxs(w,{value:a.group||"__ALL__",onValueChange:p,children:[e.jsx(L,{className:"md:w-64",children:e.jsx(P,{placeholder:"All Groups"})}),e.jsxs(T,{children:[e.jsx(d,{value:"__ALL__",children:"All Groups"}),m.map(s=>e.jsx(d,{value:s,children:s},s))]})]})]}),e.jsx("div",{className:"space-y-3",children:r.data.length===0?e.jsx("p",{className:"text-muted-foreground text-center",children:"No data available."}):r.data.map(s=>e.jsxs("div",{className:"flex items-center justify-between border px-4 py-3 rounded-md bg-muted/50 hover:bg-muted/70 transition",children:[e.jsx("div",{className:"font-medium text-sm text-foreground",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{href:`/permissions/${s.id}/edit`,children:e.jsx(l,{variant:"ghost",size:"icon",children:e.jsx(A,{className:"h-4 w-4"})})}),e.jsxs(E,{children:[e.jsx(I,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"icon",className:"text-destructive hover:text-red-600",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsxs(M,{children:[e.jsxs($,{children:[e.jsx(k,{children:"Delete this permission?"}),e.jsxs(z,{children:["Permission ",e.jsx("strong",{children:s.name})," will be permanently deleted."]})]}),e.jsxs(G,{children:[e.jsx(H,{children:"Cancel"}),e.jsx(V,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>h(s.id),children:"Delete"})]})]})]})]})]},s.id))}),r.links.length>1&&e.jsx("div",{className:"flex justify-center pt-6 flex-wrap gap-2",children:r.links.map((s,i)=>e.jsx(l,{disabled:!s.url,variant:s.active?"default":"outline",size:"sm",onClick:()=>t.visit(s.url||"",{preserveScroll:!0}),children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},i))})]})]})})]})}export{ae as default};
