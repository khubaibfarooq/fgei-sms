import{r as i,j as e,L as Ae}from"./app-C_vGv3Mn.js";import{A as Le,S as Be}from"./app-layout-C3DK89xl.js";import{B as K}from"./button-D3ICZUlX.js";import{C as Ee,a as Te,b as We,c as ze}from"./card-D4hKHGA3.js";import{L as $}from"./label-DZZSVEoq.js";import{I as P}from"./image-preview-yMGn8luY.js";import{C as X}from"./combobox-B8cObMeI.js";import{f as q}from"./dateFormatter-D72XrzRE.js";import{E as Oe,F as $e,a as qe,b as He}from"./jspdf.plugin.autotable-CythJp5f.js";import{t as Z}from"./index-B7RycKoC.js";import"./index-C4ULTFvu.js";import"./createLucideIcon-N4voy0hI.js";import"./index-B6M9QBmr.js";import"./index-iuOc_lCk.js";import"./index-Y6ZT9tnY.js";import"./index-DIjeUE5K.js";import"./input-Dh2IztUZ.js";import"./app-logo-icon-D2bEHVg5.js";import"./circle-x-DVldkpcR.js";import"./folder-root-pqswtxXi.js";import"./grip-vertical-BFFqqoG4.js";import"./popover-CuqEVE5C.js";const Me=[{title:"Institutional Report",href:"/reports/institutes"}],ee=x=>{const I=x!=null&&typeof x.id=="number"&&x.id>0&&typeof x.name=="string"&&x.name.trim()!=="";return I||console.warn("Invalid item detected:",x),I};function ft({institute:x=null,institutes:I=[],regions:te=[],blocks:se=[],instituteAssets:ae=[],rooms:re=[],shifts:oe=[],upgradations:de=[],funds:ne=[],projects:le=[],filters:R={search:"",institute_id:"",region_id:""}}){const[ie,Ue]=i.useState(R.search||""),[D,H]=i.useState(R.institute_id||""),[l,ce]=i.useState(x);console.log("fetchedinstitute",l);const[M,me]=i.useState(R.region_id||""),[U,V]=i.useState(I),[Y,Ve]=i.useState(te),[u,he]=i.useState(se),[b,xe]=i.useState(ae),[p,ge]=i.useState(re),[y,ue]=i.useState(oe),[j,pe]=i.useState(de),[A,fe]=i.useState(!1),[L,be]=i.useState(!1),[B,ye]=i.useState(!1),[E,je]=i.useState(!1),[T,Ne]=i.useState(!1),[Ye,Ge]=i.useState(!1),[W,ke]=i.useState(ne),[N,we]=i.useState(le),[z,ve]=i.useState(!1),Se=i.useMemo(()=>U.filter(ee),[U]),O=i.useMemo(()=>Y.filter(ee),[Y]);console.log(O);const Ie=async t=>{try{const a=new URLSearchParams(t).toString(),h=await fetch(`/reports/institutes/getData?${a}`);if(!h.ok)throw new Error("Failed to fetch data");const m=await h.json();ce(m.institute||[]),console.log(l),he(m.blocks||[]),xe(m.instituteAssets||[]),console.log(m.instituteAssets),ge(m.rooms||[]),ue(m.shifts||[]),pe(m.upgradations||[]),ke(m.funds||[]),console.log(m.projects),we(m.projects||[])}catch(a){console.error("Error fetching data:",a),Z.error("Failed to load data")}},Ce=t=>{H(t),Ie({search:ie,institute_id:t,region_id:M})},_e=async t=>{try{const a=new URLSearchParams({region_id:t||""}).toString(),h=await fetch(`/reports/getInstitutes?${a}`);if(!h.ok)throw new Error("Failed to fetch institutes");const m=await h.json();console.log("Fetched institutes:",m),V(m),D&&t!=="0"&&!m.some(f=>f.id.toString()===D)&&H("")}catch(a){console.error("Error fetching institutes:",a),Z.error("Failed to load institutes"),V([])}},Fe=async t=>{me(t),_e(t)},Pe=async()=>{const t=new Oe.Workbook,a=t.addWorksheet("Shifts");a.columns=[{header:"Name",key:"name",width:20},{header:"Building Name",key:"building_name",width:20},{header:"Building Type",key:"building_type",width:20}],y.forEach(r=>{var c;a.addRow({name:r.name,building_name:r.building_name,building_type:((c=r.building_type)==null?void 0:c.name)||"N/A"})});const h=t.addWorksheet("Blocks");h.columns=[{header:"Name",key:"name",width:20},{header:"Area (sq ft)",key:"area",width:15}],u.forEach(r=>{h.addRow({name:r.name,area:r.area})});const m=t.addWorksheet("Rooms");m.columns=[{header:"Name",key:"name",width:20},{header:"Area (sq ft)",key:"area",width:15},{header:"Block",key:"block",width:20}],p.forEach(r=>{var c;m.addRow({name:r.name,area:r.area,block:((c=r.block)==null?void 0:c.name)||"N/A"})});const f=t.addWorksheet("Assets");f.columns=[{header:"Asset",key:"asset",width:20},{header:"Quantity",key:"qty",width:10},{header:"Rooms",key:"locations",width:20}],b.forEach(r=>{var c;f.addRow({asset:((c=r.asset)==null?void 0:c.name)||"N/A",qty:r.total_qty,locations:r.locations_count})});const v=t.addWorksheet("Funds");v.columns=[{header:"Fund Head",key:"Fundhead",width:30},{header:"Balance",key:"balance",width:15}],W.forEach(r=>{var c;v.addRow({Fundhead:(c=r.fund_head)==null?void 0:c.name,balance:r.balance})});const o=t.addWorksheet("Upgradations");o.columns=[{header:"Details",key:"details",width:30},{header:"Date From",key:"from",width:15},{header:"Date To",key:"to",width:15},{header:"Level From",key:"levelfrom",width:15},{header:"Level To",key:"levelto",width:15},{header:"Status",key:"status",width:15}],j.forEach(r=>{o.addRow({details:r.details,from:r.from,to:r.to,levelfrom:r.levelfrom,levelto:r.levelto,status:r.status})});const d=t.addWorksheet("Projects");d.columns=[{header:"Project Type",key:"projecttype",width:30},{header:"Completed",key:"completed",width:15},{header:"In  Progress",key:"inprogress",width:15},{header:"Planned",key:"planned",width:15}],N.forEach(r=>{d.addRow({projecttype:r.name,completed:r.completed,inprogress:r.inprogress,planned:r.planned})});const s=await t.xlsx.writeBuffer(),n=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$e.saveAs(n,"Institutional_Report.xlsx")},Re=async()=>{const t=new qe;let a=20;const h=(o,d,s)=>{t.setFontSize(14),t.text(o,14,a),He(t,{head:[d],body:s,startY:a+3,styles:{fontSize:10},headStyles:{fillColor:[11,67,27]}}),a=t.lastAutoTable.finalY+8,a>t.internal.pageSize.height-50&&(t.addPage(),a=20)},m=o=>new Promise((d,s)=>{const n=new Image;n.crossOrigin="Anonymous",n.src=o,n.onload=()=>{const r=document.createElement("canvas");r.width=n.width,r.height=n.height;const c=r.getContext("2d");c?(c.drawImage(n,0,0),d(r.toDataURL("image/jpeg"))):s(new Error("Canvas context not available"))},n.onerror=r=>s(r)}),f=async(o,d)=>{try{a>t.internal.pageSize.height-60&&(t.addPage(),a=20),t.setFontSize(16),t.text(o,14,a),a+=10;const s=await m(`/assets/${d}`),n=t.getImageProperties(s),r=t.internal.pageSize.getWidth()-28,c=n.height*r/n.width;a+c>t.internal.pageSize.height-20&&(t.addPage(),a=20,t.setFontSize(16),t.text(o,14,a),a+=10),t.addImage(s,"JPEG",14,a,r,c),a+=c+10}catch(s){console.error(`Failed to load image for ${o}:`,s)}},v=async(o,d)=>{const s=d.filter(k=>k.img);if(s.length===0)return;a>t.internal.pageSize.height-40&&(t.addPage(),a=20),t.setFontSize(16),t.text(o,14,a),a+=10;const n=t.internal.pageSize.getWidth(),r=14,c=5,C=(n-r*2-c*2)/3;for(let k=0;k<s.length;k+=3){const De=s.slice(k,k+3);let _=0;const G=[];for(const g of De){let S=null,w=0;try{S=await m(`/assets/${g.img}`);const F=t.getImageProperties(S);w=F.height*C/F.width}catch(F){console.error(`Failed to load image for ${g.name}:`,F)}const Q=w+10;Q>_&&(_=Q),G.push({imgData:S,height:w,name:g.name})}a+_>t.internal.pageSize.height-20&&(t.addPage(),a=20),G.forEach((g,S)=>{const w=r+S*(C+c);t.setFontSize(10);const J=t.splitTextToSize(g.name,C);t.text(J,w,a+5),g.imgData&&t.addImage(g.imgData,"JPEG",w,a+10,C,g.height)}),a+=_+10}a+=10};if(t.setFontSize(16),t.text("Institutional Report",14,15),a=25,y.length>0){const o=["Name","Building Name","Building Type"],d=y.map(s=>{var n;return[s.name,s.building_name,((n=s.building_type)==null?void 0:n.name)||"N/A"]});h("Shifts",o,d)}if(u.length>0){const o=["Name","Area (sq ft)"],d=u.map(s=>[s.name,s.area]);h("Blocks",o,d)}if(p.length>0){const o=["Name","Area (sq ft)","Block"],d=p.map(s=>{var n;return[s.name,s.area,((n=s.block)==null?void 0:n.name)||"N/A"]});h("Rooms",o,d)}if(b.length>0){const o=["Asset Name","Quantity","Rooms"],d=b.map(s=>[s.name,s.total_qty.toString(),s.locations_count.toString()]);h("Institute Assets",o,d)}if(W.length>0){const o=["Fund Head","Balance"],d=W.map(s=>{var n;return[(n=s.fund_head)==null?void 0:n.name,s.balance]});h("Institute Funds",o,d)}if(j.length>0){const o=["Details","Date From","Date To","Level From","Level To","Status"],d=j.map(s=>[s.details,s.from,s.to,s.levelfrom,s.levelto,s.status]);h("Institute Upgradations",o,d)}if(N.length>0){const o=["Project Type","Completed","In Progress","Planned"],d=N.map(s=>[s.name,s.completed,s.inprogress,s.planned]);h("Institute Projects",o,d)}l!=null&&l.img_layout&&await f("Institute Layout",l.img_layout),l!=null&&l.img_3d&&await f("Institute Front View",l.img_3d),await v("Blocks Images",u),await v("Rooms Images",p),t.save("Institutional_Report.pdf")};return e.jsxs(Le,{breadcrumbs:Me,children:[e.jsx(Ae,{title:"Institutional Report"}),e.jsxs("div",{className:"flex-1 p-3 ",children:[e.jsxs(Ee,{children:[e.jsxs(Te,{className:"pb-3 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:["          ",e.jsx(We,{children:"Institutional Report"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{onClick:Re,className:"w-full md:w-auto",children:"Export PDF"}),e.jsx(K,{onClick:Pe,className:"w-full md:w-auto",children:"Export Excel"})]})]}),e.jsx(Be,{}),e.jsx(ze,{className:"py-3 space-y-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[O.length>0&&e.jsx(X,{entity:"region",value:M,onChange:t=>Fe(t),options:O.map(t=>({id:t.id.toString(),name:t.name.split(" ").pop()||t.name})),includeAllOption:!0}),e.jsx(X,{entity:"institute",value:D,onChange:t=>Ce(t),options:Se.map(t=>({id:t.id.toString(),name:t.name})),includeAllOption:!0})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Current Layout Image"}),l!=null&&l.img_layout?e.jsx(P,{dataImg:`${l.img_layout}`,className:"w-full h-48 object-cover rounded"}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No layout image uploaded."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Current Front View Image"}),l!=null&&l.img_3d?e.jsx(P,{dataImg:`${l.img_3d}`,className:"w-full h-48 object-cover rounded"}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No Font View image uploaded."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Current Video"}),l!=null&&l.video?e.jsxs("video",{controls:!0,className:"w-full h-48 rounded",children:[e.jsx("source",{src:`/assets/${l.video}`,type:"video/mp4"}),"Your browser does not support the video tag."]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No video uploaded."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 my-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:`w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800 

  `,onClick:()=>fe(!A),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Shifts(",y.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${A?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A&&e.jsx("div",{className:"p-4 border-t",children:y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#0b431b] dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Building Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Building Type"})]})}),e.jsx("tbody",{children:y.map(t=>{var a;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.building_name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:(a=t.building_type)==null?void 0:a.name})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No shifts available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>be(!L),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Blocks(",u.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${L?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&e.jsx("div",{className:"p-4 border-t",children:u.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#0b431b] dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Area (sq ft)"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Establish Date"})]})}),e.jsx("tbody",{children:u.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsxs("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:["  ",e.jsxs("div",{className:"flex flex-column gap-2 align-middle",children:[" ",e.jsx(P,{dataImg:t.img,size:"h-20 w-20"}),"  ",e.jsx("span",{className:"font-bold",children:t.name})]})," "]}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.area}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:q(t.establish_date)})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No blocks available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 my-2  gap-6",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>ye(!B),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Rooms(",p.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${B?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),B&&e.jsx("div",{className:"p-4 border-t",children:p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#0b431b] dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Block"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Area (sq ft)"})]})}),e.jsx("tbody",{children:p.map(t=>{var a;return e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:(a=t.block)==null?void 0:a.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:e.jsxs("div",{className:"flex flex-column gap-2 align-middle",children:[" ",e.jsx(P,{dataImg:t.img,size:"h-20 w-20"}),"  ",e.jsx("span",{className:"font-bold",children:t.name})]})}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.area})]},t.id)})})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No rooms available"})})]}),e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>je(!E),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Assets(",b.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&e.jsx("div",{className:"p-4 border-t",children:b.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#0b431b] dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Asset Name"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Total Quantity"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Rooms"})]})}),e.jsx("tbody",{children:b.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 font-bold dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border p-2 text-sm text-green-700 font-bold dark:text-gray-100",children:t.total_qty}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.locations_count})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No assets available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 my-2  md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg  border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>Ne(!T),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Upgradations(",j.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${T?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),T&&e.jsx("div",{className:"p-4 border-t",children:j.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#0b431b] dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Details"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Date from"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Date to"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Level From"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Level To"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Status"})]})}),e.jsx("tbody",{children:j.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.details}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:q(t.from)}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:q(t.to)}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.levelfrom}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.levelto}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.status})]},t.id))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No upgradations available"})})]}),e.jsxs("div",{className:"border rounded-lg border-primary/95",children:[e.jsxs("button",{className:"w-full p-4 text-left flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>ve(!z),children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Institute Projects(",N.length,")"]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),z&&e.jsx("div",{className:"p-4 border-t",children:N.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse rounded-md overflow-hidden shadow-sm border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#0b431b] dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Project Type"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Completed"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"In Progress"}),e.jsx("th",{className:"border p-2 text-left text-sm font-medium text-white dark:text-gray-200",children:"Planned"})]})}),e.jsx("tbody",{children:N.map(t=>e.jsxs("tr",{className:"hover:bg-primary/10  dark:hover:bg-gray-700",children:[e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.completed}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.inprogress}),e.jsx("td",{className:"border p-2 text-sm text-gray-900 dark:text-gray-100",children:t.planned})]}))})]})}):e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Fund available"})})]})]})]})]})}export{ft as default};
